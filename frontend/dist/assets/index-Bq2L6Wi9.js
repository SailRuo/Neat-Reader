import{d as Me,u as Re,o as Ke,a as We,c as u,b as e,t as y,w as se,v as oe,e as x,n as R,f as ae,r as p,g as i,h as O,_ as Ce,i as we,j as le,k as D,T as Ee,l as Ie,m as Xe,F as ie,p as re,q as Q,s as ke,x as Qe,y as Be,z as be,A as ye,B as te,C as qe}from"./index-DzThwDyM.js";import{d as Je}from"./dayjs.min-Bi3FP3uJ.js";import{u as Fe,a as _e}from"./ebook-6ZYtjjao.js";import{q as J,s as Ge,t as et,r as tt,p as st,c as ot}from"./qwenTokenManager-BEwf5qxk.js";const at=""+new URL("appicon.Dx3HGttL.png",import.meta.url).href,nt={class:"settings-panel"},lt={class:"settings-content"},it={class:"setting-section"},rt={class:"setting-card"},ct={class:"setting-row"},dt={class:"setting-info"},ut={key:0,class:"setting-desc"},gt={key:1,class:"setting-desc"},ht={class:"setting-control"},vt={key:0,class:"status connected"},pt={key:1,class:"status disconnected"},yt={key:0,class:"setting-row"},kt={class:"setting-info",style:{width:"100%"}},mt=["disabled"],ft={key:1,class:"setting-row"},wt={class:"setting-section"},bt={class:"setting-card"},_t={class:"setting-row"},Mt={class:"setting-info"},Ct={key:0,class:"setting-desc"},xt={key:1,class:"setting-desc"},$t={class:"setting-control"},Tt={key:0,class:"status connected"},Dt={key:1,class:"status disconnected"},At={key:0,class:"setting-row"},St={class:"setting-info",style:{width:"100%"}},zt=["disabled"],Et={key:0,style:{"font-size":"14px",color:"#4A90E2",margin:"8px 0 0 0","font-weight":"600"}},It={key:1,class:"setting-row"},Bt={class:"setting-info",style:{width:"100%"}},qt=["disabled"],Ut={key:2,class:"setting-row"},Lt={class:"setting-info",style:{width:"100%"}},Vt={class:"test-result"},Pt={class:"test-result-content"},Ht={class:"setting-section"},jt={class:"setting-card"},Rt={class:"setting-row"},Kt={class:"setting-info"},Qt={class:"setting-desc"},Ft={class:"setting-control"},Nt={class:"toggle-group"},Yt={class:"setting-row"},Ot={class:"setting-info"},Zt={class:"setting-desc"},Wt={class:"setting-control"},Xt=["value"],Jt=Me({__name:"index",props:{baidupanUser:{},viewMode:{}},emits:["cancelBaidupanAuth","showBaidupanAuthDialog","updateViewMode"],setup(w){const m=Fe(),n=Re(),d=O(()=>m.userConfig.storage),$=p(""),I=p(""),M=p(!1),v=p(""),T=p(""),B=p(""),A=p(!1),K=p(!1),f=p(""),P=p(""),q=p(""),E=p(null);Ke(()=>{const r=localStorage.getItem("qwen_access_token"),o=localStorage.getItem("qwen_refresh_token"),b=localStorage.getItem("qwen_resource_url");r&&(v.value=r),o&&(T.value=o),b&&(B.value=b),J.onRefresh(k=>{console.log("âœ… [Settings] Token è‡ªåŠ¨åˆ·æ–°æˆåŠŸ"),v.value=k.accessToken,T.value=k.refreshToken,k.resourceUrl&&(B.value=k.resourceUrl)}),J.onError(k=>{console.error("âŒ [Settings] Token è‡ªåŠ¨åˆ·æ–°å¤±è´¥:",k),n.showErrorDialog("Token åˆ·æ–°å¤±è´¥","æ‚¨çš„ Qwen AI æŽˆæƒå·²è¿‡æœŸï¼Œè¯·é‡æ–°æŽˆæƒ")})}),We(()=>{J.destroy()});const G=()=>{console.log("=== å¼€å§‹èŽ·å–æŽˆæƒ ==="),console.log("å½“å‰çŽ¯å¢ƒæ£€æµ‹:"),console.log("- window.electron å­˜åœ¨:",!!window.electron),console.log("- window.location.href:",window.location.href);const r="https://openapi.baidu.com/oauth/2.0/authorize?response_type=code&client_id=hq9yQ9w9kR4YHj1kyYafLygVocobh7Sf&redirect_uri=https://alistgo.com/tool/baidu/callback&scope=basic,netdisk&qrcode=1";console.log("æŽˆæƒURL:",r);try{if(window.electron)console.log("âœ“ æ£€æµ‹åˆ°ElectronçŽ¯å¢ƒï¼Œä½¿ç”¨å†…ç½®çª—å£å¤„ç†æŽˆæƒ"),console.log("è°ƒç”¨ window.electron.openAuthWindow..."),window.electron.openAuthWindow(r).then(o=>{console.log("openAuthWindow è¿”å›žç»“æžœ:",o),o.success&&o.code?(console.log("âœ“ èŽ·å–åˆ°æŽˆæƒç :",o.code),V(o.code)):(console.error("âœ— æŽˆæƒå¤±è´¥:",o.error),n.showErrorDialog("æŽˆæƒå¤±è´¥",o.error||"ç”¨æˆ·å–æ¶ˆæŽˆæƒ"))}).catch(o=>{console.error("âœ— æŽˆæƒçª—å£Promiseå¼‚å¸¸:",o),n.showErrorDialog("æŽˆæƒå¤±è´¥","æ— æ³•æ‰“å¼€æŽˆæƒçª—å£: "+o.message)});else{console.log("âœ“ æµè§ˆå™¨çŽ¯å¢ƒï¼Œä½¿ç”¨å¤–éƒ¨æµè§ˆå™¨æ‰“å¼€æŽˆæƒé¡µé¢");const o=k=>{if(console.log("æ”¶åˆ° postMessage:",k.data),k.origin!==window.location.origin){console.warn("å¿½ç•¥æ¥è‡ªä¸åŒæºçš„æ¶ˆæ¯:",k.origin);return}k.data&&k.data.type==="baidu-auth-code"&&k.data.code&&(console.log("âœ“ æ”¶åˆ°æŽˆæƒç :",k.data.code),window.removeEventListener("message",o),V(k.data.code))};window.addEventListener("message",o),console.log("âœ“ å·²æ·»åŠ  postMessage ç›‘å¬å™¨"),window.open(r,"_blank","width=800,height=600")?(console.log("âœ“ å¤–éƒ¨æµè§ˆå™¨çª—å£æ‰“å¼€æˆåŠŸ"),n.showDialog({title:"æŽˆæƒæç¤º",message:"è¯·åœ¨æ‰“å¼€çš„é¡µé¢ä¸­å®ŒæˆæŽˆæƒï¼ŒæŽˆæƒæˆåŠŸåŽä¼šè‡ªåŠ¨èŽ·å–æŽˆæƒä¿¡æ¯",type:"info"})):(console.error("âœ— å¤–éƒ¨æµè§ˆå™¨çª—å£è¢«é˜»æ­¢"),window.removeEventListener("message",o),n.showErrorDialog("çª—å£è¢«é˜»æ­¢","è¯·å…è®¸å¼¹å‡ºçª—å£"))}}catch(o){console.error("âœ— èŽ·å–æŽˆæƒè¿‡ç¨‹å¼‚å¸¸:",o),console.error("å¼‚å¸¸è¯¦æƒ…:",{message:o.message,stack:o.stack,name:o.name}),n.showErrorDialog("æ‰“å¼€å¤±è´¥","æ— æ³•æ‰“å¼€æŽˆæƒé¡µé¢: "+o.message)}console.log("=== èŽ·å–æŽˆæƒå‡½æ•°æ‰§è¡Œå®Œæˆ ===")},V=async r=>{console.log("=== å¼€å§‹é€šè¿‡alist APIå¤„ç†æŽˆæƒç  ==="),console.log("æŽˆæƒç :",r),M.value=!0;try{console.log("å‡†å¤‡è°ƒç”¨åŽç«¯API: /api/baidu/alist-token");const o=await fetch("/api/baidu/alist-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:r})});if(console.log("åŽç«¯APIå“åº”çŠ¶æ€:",o.status,o.statusText),!o.ok){const S=await o.text();throw console.error("âœ— åŽç«¯APIè¿”å›žé”™è¯¯:",S),new Error(`HTTP ${o.status}: ${S}`)}const b=await o.text();console.log("åŽç«¯APIå“åº”æ–‡æœ¬:",b);let k;try{k=JSON.parse(b),console.log("åŽç«¯APIå“åº”æ•°æ®:",k)}catch(S){throw console.error("âœ— JSONè§£æžå¤±è´¥:",S),console.error("å“åº”å†…å®¹:",b),new Error("æœåŠ¡å™¨è¿”å›žäº†æ— æ•ˆçš„JSONæ ¼å¼")}!k.error&&k.access_token&&k.refresh_token?(console.log("âœ“ æˆåŠŸèŽ·å–token"),console.log("- access_token:",k.access_token?"å·²èŽ·å–":"æœªèŽ·å–"),console.log("- refresh_token:",k.refresh_token?"å·²èŽ·å–":"æœªèŽ·å–"),I.value=k.access_token,$.value=k.refresh_token,console.log("å¼€å§‹è‡ªåŠ¨éªŒè¯å¹¶è¿žæŽ¥..."),C()):(console.error("âœ— èŽ·å–Tokenå¤±è´¥:",k.error||"å“åº”æ•°æ®æ ¼å¼é”™è¯¯"),n.showErrorDialog("èŽ·å–Tokenå¤±è´¥",k.error||"æœªçŸ¥é”™è¯¯"))}catch(o){console.error("âœ— è°ƒç”¨alist APIå¼‚å¸¸:",o),console.error("å¼‚å¸¸è¯¦æƒ…:",{message:o.message,stack:o.stack,name:o.name}),n.showErrorDialog("èŽ·å–Tokenå¤±è´¥","ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•: "+o.message)}finally{M.value=!1,console.log("=== alist APIå¤„ç†å®Œæˆ ===")}},ce=async()=>{if($.value){M.value=!0;try{const r=await _e.refreshToken($.value,"hq9yQ9w9kR4YHj1kyYafLygVocobh7Sf","YH2VpZcFJHYNnV6vLfHQXDBhcE7ZChyE");!r.error&&r.access_token?(I.value=r.access_token,r.refresh_token&&($.value=r.refresh_token),C()):n.showErrorDialog("èŽ·å–å¤±è´¥",r.error||"æœªçŸ¥é”™è¯¯")}catch{n.showErrorDialog("èŽ·å–å¤±è´¥","ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•")}finally{M.value=!1}}},C=async()=>{if(I.value){M.value=!0;try{const r=await _e.verifyToken(I.value);r.error?n.showErrorDialog("éªŒè¯å¤±è´¥",r.message||"æ— æ•ˆçš„token"):(await m.updateUserConfig({storage:{...d.value,baidupan:{...d.value.baidupan,accessToken:I.value,refreshToken:$.value,userId:String(r.uk),expiration:Date.now()+720*60*60*1e3,rootPath:d.value.baidupan?.rootPath||"",namingStrategy:d.value.baidupan?.namingStrategy||"0"}}}),await m.fetchBaidupanUserInfo(!0),n.showSuccessDialog("ç™¾åº¦ç½‘ç›˜æŽˆæƒæˆåŠŸ"))}catch{n.showErrorDialog("éªŒè¯å¤±è´¥","ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•")}finally{M.value=!1}}},H=async()=>{await m.updateUserConfig({storage:{...d.value,baidupan:{...d.value.baidupan,accessToken:"",refreshToken:"",userId:"",expiration:0,rootPath:"",namingStrategy:"0"}}}),$.value="",I.value="",await m.fetchBaidupanUserInfo(!0),n.showSuccessDialog("å·²å–æ¶ˆæŽˆæƒ")},Z=async r=>{const o=r.target;await m.updateUserConfig({ui:{...m.userConfig.ui,language:o.value}})},ee=async()=>{console.log("=== å¼€å§‹ Qwen Device Code Flow æŽˆæƒ ==="),A.value=!0,f.value="";try{const r=await Ge();P.value=r.session_id,q.value=r.user_code,console.log("Device Code Flow å¯åŠ¨æˆåŠŸ"),console.log("User Code:",r.user_code),console.log("Auth URL:",r.auth_url),console.log("Session ID:",r.session_id),window.electron?(console.log("âœ“ Electron çŽ¯å¢ƒï¼Œä½¿ç”¨ç³»ç»Ÿæµè§ˆå™¨æ‰“å¼€æŽˆæƒé¡µé¢"),window.electron.openExternal(r.auth_url)):window.open(r.auth_url,"_blank","width=800,height=600"),n.showDialog({title:"Qwen æŽˆæƒ - æ­¥éª¤è¯´æ˜Ž",message:`ðŸ“‹ è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤å®ŒæˆæŽˆæƒï¼š

1ï¸âƒ£ åœ¨æ‰“å¼€çš„æµè§ˆå™¨é¡µé¢ä¸­è¾“å…¥ç”¨æˆ·ç ï¼š
   ${r.user_code}

2ï¸âƒ£ ç‚¹å‡»"ç¡®è®¤"å®ŒæˆæŽˆæƒ

3ï¸âƒ£ çœ‹åˆ°"è®¤è¯æˆåŠŸ"åŽï¼Œå¯ä»¥å…³é—­æµè§ˆå™¨çª—å£

â³ åº”ç”¨å°†è‡ªåŠ¨èŽ·å– tokenï¼Œè¯·ç¨å€™...`,type:"info"}),N(r.session_id,r.interval)}catch(r){console.error("âœ— Qwen æŽˆæƒå¤±è´¥:",r),n.showErrorDialog("æŽˆæƒå¤±è´¥",r.message||"æœªçŸ¥é”™è¯¯"),A.value=!1}},N=async(r,o)=>{console.log("=== å¼€å§‹è½®è¯¢ token ==="),console.log("Session ID:",r),console.log("Interval:",o,"seconds");let b=0;const k=60;let S=o*1e3;const de=async()=>{b++,console.log(`è½®è¯¢ç¬¬ ${b} æ¬¡...`),b%10===0&&b<k&&console.log(`â³ å·²ç­‰å¾… ${b*o} ç§’ï¼Œç»§ç»­ç­‰å¾…æŽˆæƒ...`);try{const _=await st(r);if(_.status==="pending")if(_.slow_down&&(S=S*1.5,console.log("æœåŠ¡å™¨è¦æ±‚å‡æ…¢è½®è¯¢ï¼Œæ–°é—´éš”:",S/1e3,"seconds")),b<k)E.value=window.setTimeout(de,S);else throw new Error("æŽˆæƒè¶…æ—¶ï¼Œè¯·é‡æ–°å¼€å§‹");else _.status==="success"&&(console.log("âœ“ æˆåŠŸèŽ·å– token"),_.is_mock&&console.warn("âš ï¸ ä½¿ç”¨æ¨¡æ‹Ÿ tokenï¼ˆçœŸå®ž API ä¸å¯ç”¨ï¼‰"),v.value=_.access_token,T.value=_.refresh_token,B.value=_.resource_url||"",localStorage.setItem("qwen_access_token",_.access_token),localStorage.setItem("qwen_refresh_token",_.refresh_token),_.resource_url&&localStorage.setItem("qwen_resource_url",_.resource_url),_.expires_in&&(J.setTokens(_.access_token,_.refresh_token,_.expires_in,_.resource_url),console.log("âœ… [Settings] Token ç®¡ç†å™¨å·²å¯åŠ¨è‡ªåŠ¨åˆ·æ–°")),A.value=!1,_.is_mock?n.showDialog({title:"Qwen æŽˆæƒæˆåŠŸï¼ˆæ¨¡æ‹Ÿæ¨¡å¼ï¼‰",message:`å·²èŽ·å–æ¨¡æ‹Ÿ tokenã€‚

æ³¨æ„ï¼šç”±äºŽ Qwen çœŸå®ž API ç«¯ç‚¹æœªçŸ¥ï¼Œå½“å‰ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ã€‚

è¦ä½¿ç”¨çœŸå®ž APIï¼Œéœ€è¦èŽ·å–æ­£ç¡®çš„ç«¯ç‚¹ä¿¡æ¯ã€‚`,type:"info"}):n.showDialog({title:"âœ… Qwen æŽˆæƒæˆåŠŸ",message:`ðŸŽ‰ å·²æˆåŠŸèŽ·å– access tokenï¼

ðŸ’¡ æç¤ºï¼šæ‚¨çŽ°åœ¨å¯ä»¥å…³é—­æµè§ˆå™¨ä¸­çš„æŽˆæƒé¡µé¢äº†ã€‚

åº”ç”¨å°†è‡ªåŠ¨æµ‹è¯• API è¿žæŽ¥...`,type:"success"}),_.is_mock||setTimeout(()=>{W()},1e3))}catch(_){console.error("âœ— è½®è¯¢å¤±è´¥:",_),A.value=!1,E.value&&(clearTimeout(E.value),E.value=null),n.showErrorDialog("èŽ·å– Token å¤±è´¥",_.message||"æœªçŸ¥é”™è¯¯")}};E.value=window.setTimeout(de,S)},W=async()=>{console.log("=== æµ‹è¯• Qwen API ==="),K.value=!0,f.value="";try{const r=["qwen3-coder-plus","qwen3-coder-flash"],o=r[0];console.log("å¯ç”¨æ¨¡åž‹ï¼ˆç¡¬ç¼–ç ï¼‰:",r),console.log("ä½¿ç”¨æ¨¡åž‹:",o),console.log("Resource URL:",B.value||"(æœªè®¾ç½®ï¼Œä½¿ç”¨é»˜è®¤)");const b=await et(v.value,"ä½ å¥½ï¼Œè¯·ç”¨ä¸€å¥è¯ä»‹ç»ä½ è‡ªå·±ã€‚",B.value);console.log("âœ“ API æµ‹è¯•æˆåŠŸ"),console.log("å“åº”:",b.response),console.log("Token ä½¿ç”¨:",b.usage),f.value=b.response,n.showDialog({title:"API æµ‹è¯•æˆåŠŸ",message:`æ¨¡åž‹: ${o}

Qwen AI å“åº”ï¼š

${b.response}

ä½¿ç”¨ Token: ${b.usage.total_tokens}`,type:"success"})}catch(r){if(console.error("âœ— API æµ‹è¯•å¤±è´¥:",r),r.message?.includes("token")&&T.value){console.log("å°è¯•åˆ·æ–° token...");try{const o=await tt(T.value);v.value=o.access_token,T.value=o.refresh_token,localStorage.setItem("qwen_access_token",o.access_token),localStorage.setItem("qwen_refresh_token",o.refresh_token),await W();return}catch(o){console.error("âœ— åˆ·æ–° token å¤±è´¥:",o)}}n.showErrorDialog("API æµ‹è¯•å¤±è´¥",r.message||"æœªçŸ¥é”™è¯¯")}finally{K.value=!1}},ue=()=>{E.value&&(clearTimeout(E.value),E.value=null),v.value="",T.value="",B.value="",f.value="",P.value="",q.value="",localStorage.removeItem("qwen_access_token"),localStorage.removeItem("qwen_refresh_token"),localStorage.removeItem("qwen_resource_url"),J.clearTokens(),console.log("âœ… [Settings] Token ç®¡ç†å™¨å·²æ¸…é™¤"),n.showSuccessDialog("å·²å–æ¶ˆ Qwen æŽˆæƒ")};return(r,o)=>(i(),u("div",nt,[o[13]||(o[13]=e("div",{class:"settings-header"},[e("h2",{class:"settings-title"},"è®¾ç½®")],-1)),e("div",lt,[e("section",it,[o[4]||(o[4]=e("h3",{class:"section-title"},"ç™¾åº¦ç½‘ç›˜",-1)),e("div",rt,[e("div",ct,[e("div",dt,[o[3]||(o[3]=e("span",{class:"setting-label"},"æŽˆæƒçŠ¶æ€",-1)),w.baidupanUser?(i(),u("span",ut,"å·²è¿žæŽ¥ï¼š"+y(w.baidupanUser.baidu_name),1)):(i(),u("span",gt,'ç‚¹å‡»"èŽ·å–æŽˆæƒ"æŒ‰é’®æ‰“å¼€æŽˆæƒé¡µé¢èŽ·å–å¯†é’¥ä¿¡æ¯'))]),e("div",ht,[w.baidupanUser?(i(),u("span",vt,"å·²æŽˆæƒ")):(i(),u("span",pt,"æœªæŽˆæƒ"))])]),w.baidupanUser?(i(),u("div",ft,[e("div",{class:"setting-info",style:{width:"100%"}},[e("button",{class:"btn btn-danger",style:{width:"100%"},onClick:H}," å–æ¶ˆæŽˆæƒ ")])])):(i(),u("div",yt,[e("div",kt,[e("button",{class:"btn btn-secondary",style:{width:"100%","margin-bottom":"12px"},onClick:G}," èŽ·å–æŽˆæƒ "),se(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=b=>$.value=b),placeholder:"Refresh Tokenï¼ˆæŽˆæƒåŽè‡ªåŠ¨å¡«å…¥æˆ–æ‰‹åŠ¨ç²˜è´´ï¼‰",style:{width:"100%","margin-bottom":"12px"}},null,512),[[oe,$.value]]),e("button",{class:"btn btn-primary",style:{width:"100%"},onClick:ce,disabled:!$.value||M.value},y(M.value?"èŽ·å–ä¸­...":"è¿žæŽ¥ç™¾åº¦ç½‘ç›˜"),9,mt)])]))])]),e("section",wt,[o[8]||(o[8]=e("h3",{class:"section-title"},"Qwen AI",-1)),e("div",bt,[e("div",_t,[e("div",Mt,[o[5]||(o[5]=e("span",{class:"setting-label"},"æŽˆæƒçŠ¶æ€",-1)),v.value?(i(),u("span",Ct,"å·²æŽˆæƒï¼Œå¯ä»¥ä½¿ç”¨ Qwen AI åŠŸèƒ½")):(i(),u("span",xt,'ç‚¹å‡»"èŽ·å–æŽˆæƒ"æŒ‰é’®å®Œæˆ OAuth æŽˆæƒ'))]),e("div",$t,[v.value?(i(),u("span",Tt,"å·²æŽˆæƒ")):(i(),u("span",Dt,"æœªæŽˆæƒ"))])]),v.value?(i(),u("div",It,[e("div",Bt,[e("button",{class:"btn btn-secondary",style:{width:"100%","margin-bottom":"12px"},onClick:W,disabled:K.value},y(K.value?"æµ‹è¯•ä¸­...":"æµ‹è¯• Qwen API"),9,qt),e("button",{class:"btn btn-danger",style:{width:"100%"},onClick:ue}," å–æ¶ˆæŽˆæƒ ")])])):(i(),u("div",At,[e("div",St,[e("button",{class:"btn btn-primary",style:{width:"100%","margin-bottom":"12px"},onClick:ee,disabled:A.value},y(A.value?"æŽˆæƒä¸­...":"èŽ·å– Qwen æŽˆæƒ"),9,zt),o[6]||(o[6]=e("p",{style:{"font-size":"12px",color:"#999",margin:"0"}}," ä½¿ç”¨ Device Code Flow æŽˆæƒï¼ˆRFC 8628ï¼‰ ",-1)),q.value?(i(),u("p",Et," ç”¨æˆ·ç : "+y(q.value),1)):x("",!0)])])),f.value?(i(),u("div",Ut,[e("div",Lt,[e("div",Vt,[o[7]||(o[7]=e("div",{class:"test-result-header"},[e("span",{class:"test-result-label"},"æµ‹è¯•ç»“æžœ"),e("span",{class:"test-result-badge success"},"æˆåŠŸ")],-1)),e("div",Pt,y(f.value),1)])])])):x("",!0)])]),e("section",Ht,[o[12]||(o[12]=e("h3",{class:"section-title"},"å¤–è§‚",-1)),e("div",jt,[e("div",Rt,[e("div",Kt,[o[9]||(o[9]=e("span",{class:"setting-label"},"è§†å›¾æ¨¡å¼",-1)),e("span",Qt,y(w.viewMode==="grid"?"ç½‘æ ¼":"åˆ—è¡¨"),1)]),e("div",Ft,[e("div",Nt,[e("button",{class:R(["toggle-btn",{active:w.viewMode==="grid"}]),onClick:o[1]||(o[1]=b=>r.$emit("updateViewMode","grid"))},"ç½‘æ ¼",2),e("button",{class:R(["toggle-btn",{active:w.viewMode==="list"}]),onClick:o[2]||(o[2]=b=>r.$emit("updateViewMode","list"))},"åˆ—è¡¨",2)])])]),e("div",Yt,[e("div",Ot,[o[10]||(o[10]=e("span",{class:"setting-label"},"è¯­è¨€",-1)),e("span",Zt,y(ae(m).userConfig.ui.language==="zh-CN"?"ç®€ä½“ä¸­æ–‡":"English"),1)]),e("div",Wt,[e("select",{class:"form-control",value:ae(m).userConfig.ui.language,onChange:Z},[...o[11]||(o[11]=[e("option",{value:"zh-CN"},"ç®€ä½“ä¸­æ–‡",-1),e("option",{value:"en-US"},"English",-1)])],40,Xt)])])])])])]))}}),Gt=Ce(Jt,[["__scopeId","data-v-1827fb4e"]]),es={class:"chat-window"},ts={class:"chat-sidebar"},ss={class:"conversations-list"},os=["onClick"],as={class:"conversation-info"},ns={class:"conversation-title"},ls={class:"conversation-preview"},is=["onClick"],rs={class:"chat-main"},cs={class:"chat-header"},ds={class:"chat-header-left"},us={class:"chat-title"},gs={key:0,class:"chat-empty"},hs={class:"quick-actions"},vs={class:"message-avatar"},ps={class:"message-content"},ys={key:0,class:"message-images"},ks=["src","onClick"],ms={class:"message-text"},fs={class:"message-time"},ws={key:1,class:"message assistant"},bs={key:0,class:"pending-images"},_s={class:"pending-images-header"},Ms={class:"pending-images-list"},Cs=["src"],xs=["onClick"],$s={class:"chat-input-container"},Ts=["onKeydown"],Ds=["disabled"],As={key:1,class:"chat-footer"},Ss=["src"],zs=Me({__name:"index",props:{visible:{type:Boolean},bookContext:{},bookTitle:{}},emits:["update:visible"],setup(w,{emit:m}){const n=w,d=m,$=Qe(),I=p(),M=p(),v=p(),T=p(""),B=p(!1),A=p([]),K=p(""),f=p([]),P=p(""),q=O({get:()=>n.visible,set:g=>d("update:visible",g)}),E=O(()=>f.value.find(g=>g.id===P.value)),G=O(()=>E.value?.messages||[]),V=O(()=>!!J.getAccessToken()&&!J.isTokenExpired()),ce=()=>{const g=localStorage.getItem("qwen_conversations");if(g)try{f.value=JSON.parse(g),f.value.forEach(l=>{l.isLoading=!1})}catch(l){console.error("åŠ è½½å¯¹è¯åŽ†å²å¤±è´¥:",l)}f.value.length===0?H():P.value=f.value[0].id},C=()=>{localStorage.setItem("qwen_conversations",JSON.stringify(f.value))},H=()=>{const g={id:Date.now().toString(),title:`å¯¹è¯ ${f.value.length+1}`,messages:[],lastMessage:"å¼€å§‹æ–°å¯¹è¯...",createdAt:Date.now(),updatedAt:Date.now(),isLoading:!1};f.value.unshift(g),P.value=g.id,C()},Z=g=>{P.value=g},ee=g=>{const l=f.value.findIndex(h=>h.id===g);l!==-1&&(f.value.splice(l,1),P.value===g&&(f.value.length>0?P.value=f.value[0].id:H()),C())},N=()=>{const g=E.value;if(g){if(g.updatedAt=Date.now(),g.messages.length>0){const l=g.messages[g.messages.length-1];if(g.lastMessage=l.content.substring(0,50)+(l.content.length>50?"...":""),g.title.startsWith("å¯¹è¯")){const h=g.messages.find(z=>z.role==="user");h&&(g.title=h.content.substring(0,20)+(h.content.length>20?"...":""))}}C()}},W=()=>{q.value=!1},ue=()=>{W(),$.push("/settings")},r=g=>{const l=new Date(g),h=new Date,z=h.getTime()-l.getTime();return z<6e4?"åˆšåˆš":z<36e5?`${Math.floor(z/6e4)} åˆ†é’Ÿå‰`:l.toDateString()===h.toDateString()?l.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):l.toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},o=()=>{Be(()=>{I.value&&(I.value.scrollTop=I.value.scrollHeight)})},b=()=>{v.value?.click()},k=g=>{const l=g.target,h=l.files;h&&Array.from(h).forEach(z=>{if(z.type.startsWith("image/")){const L=new FileReader;L.onload=j=>{j.target?.result&&A.value.push(j.target.result)},L.readAsDataURL(z)}}),l&&(l.value="")},S=g=>{const l=g.clipboardData?.items;if(l)for(let h=0;h<l.length;h++){const z=l[h];if(z.type.startsWith("image/")){g.preventDefault();const L=z.getAsFile();if(L){const j=new FileReader;j.onload=X=>{X.target?.result&&A.value.push(X.target.result)},j.readAsDataURL(L)}}}},de=()=>{A.value=[]},_=g=>{A.value.splice(g,1)},me=g=>{K.value=g},pe=()=>{K.value=""},ge=g=>{T.value=g,Y()},Y=async()=>{if(!T.value.trim()&&A.value.length===0||!V.value)return;const g=E.value;if(!g)return;if(g.isLoading===!0){console.log("ðŸš« å½“å‰å¯¹è¯æ­£åœ¨å¤„ç†ä¸­ï¼Œè¯·ç¨å€™...");return}const l=T.value.trim(),h=[...A.value];T.value="",A.value=[],g.messages.push({role:"user",content:l||"(å‘é€äº†å›¾ç‰‡)",timestamp:Date.now(),images:h.length>0?h:void 0}),N(),o(),g.isLoading=!0,B.value=!0;const z=g.messages.length;g.messages.push({role:"assistant",content:"",timestamp:Date.now()});try{const L=J.getAccessToken()||"",j=J.getResourceUrl()||"";let X=l||"è¯·æè¿°è¿™å¼ å›¾ç‰‡";n.bookContext&&n.bookTitle&&(X=`ä½ æ˜¯ä¸€ä¸ªé˜…è¯»åŠ©æ‰‹ï¼Œæ­£åœ¨å¸®åŠ©ç”¨æˆ·ç†è§£ã€Š${n.bookTitle}ã€‹è¿™æœ¬ä¹¦ã€‚

ä¹¦ç±ä¿¡æ¯ï¼š
${n.bookContext}

ç”¨æˆ·é—®é¢˜ï¼š${X}

è¯·åŸºäºŽä¹¦ç±å†…å®¹å›žç­”ç”¨æˆ·çš„é—®é¢˜ã€‚`,console.log("ðŸ“– [ChatWindow] ä½¿ç”¨ä¹¦ç±ä¸Šä¸‹æ–‡ï¼Œä¹¦å:",n.bookTitle)),await ot(L,X,j,ne=>{g.messages[z].content+=ne,o()}),N(),o()}catch(L){console.error("å‘é€æ¶ˆæ¯å¤±è´¥:",L),g.messages[z].content=`æŠ±æ­‰ï¼Œå‘ç”Ÿäº†é”™è¯¯ï¼š${L.message||"æœªçŸ¥é”™è¯¯"}`,N(),o()}finally{g.isLoading=!1,B.value=!1}};return we(q,g=>{g&&(ce(),Be(()=>{M.value?.focus(),o()}))}),(g,l)=>(i(),le(Xe,{to:"body"},[D(Ee,{name:"chat-window"},{default:Ie(()=>[q.value?(i(),u("div",{key:0,class:"chat-window-overlay",onClick:Q(W,["self"])},[e("div",es,[e("div",ts,[e("div",{class:"sidebar-header"},[l[7]||(l[7]=e("h3",null,"å¯¹è¯åŽ†å²",-1)),e("button",{class:"new-chat-btn",onClick:H,title:"æ–°å»ºå¯¹è¯"},[...l[6]||(l[6]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)])])]),e("div",ss,[(i(!0),u(ie,null,re(f.value,h=>(i(),u("div",{key:h.id,class:R(["conversation-item",{active:P.value===h.id}]),onClick:z=>Z(h.id)},[e("div",as,[e("div",ns,y(h.title),1),e("div",ls,y(h.lastMessage),1)]),e("button",{class:"delete-conversation-btn",onClick:Q(z=>ee(h.id),["stop"]),title:"åˆ é™¤å¯¹è¯"},[...l[8]||(l[8]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,is)],10,os))),128))])]),e("div",rs,[e("div",cs,[e("div",ds,[l[9]||(l[9]=e("div",{class:"chat-icon"},"ðŸ¤–",-1)),e("div",us,[e("h3",null,y(E.value?.title||"Qwen AI åŠ©æ‰‹"),1),e("span",{class:R(["chat-status",{online:V.value}])},y(V.value?"åœ¨çº¿":"ç¦»çº¿"),3)])]),e("button",{class:"close-btn",onClick:W,title:"å…³é—­"},[...l[10]||(l[10]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),e("div",{class:"chat-messages",ref_key:"messagesContainer",ref:I,onPaste:S},[G.value.length===0?(i(),u("div",gs,[l[11]||(l[11]=e("div",{class:"empty-icon"},"ðŸ’¬",-1)),l[12]||(l[12]=e("p",null,"å¼€å§‹ä¸Ž Qwen AI å¯¹è¯å§ï¼",-1)),e("div",hs,[e("button",{onClick:l[0]||(l[0]=h=>ge("ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±"))},"ä»‹ç»è‡ªå·±"),e("button",{onClick:l[1]||(l[1]=h=>ge("æŽ¨èå‡ æœ¬å¥½ä¹¦"))},"æŽ¨èå¥½ä¹¦"),e("button",{onClick:l[2]||(l[2]=h=>ge("å¦‚ä½•æé«˜é˜…è¯»æ•ˆçŽ‡ï¼Ÿ"))},"é˜…è¯»æŠ€å·§")])])):x("",!0),(i(!0),u(ie,null,re(G.value,(h,z)=>(i(),u("div",{key:z,class:R(["message",h.role])},[e("div",vs,y(h.role==="user"?"ðŸ‘¤":"ðŸ¤–"),1),e("div",ps,[h.images&&h.images.length>0?(i(),u("div",ys,[(i(!0),u(ie,null,re(h.images,(L,j)=>(i(),u("img",{key:j,src:L,class:"message-image",onClick:X=>me(L)},null,8,ks))),128))])):x("",!0),e("div",ms,y(h.content),1),e("div",fs,y(r(h.timestamp)),1)])],2))),128)),B.value?(i(),u("div",ws,[...l[13]||(l[13]=[e("div",{class:"message-avatar"},"ðŸ¤–",-1),e("div",{class:"message-content"},[e("div",{class:"message-text typing"},[e("span"),e("span"),e("span")])],-1)])])):x("",!0)],544),A.value.length>0?(i(),u("div",bs,[e("div",_s,[e("span",null,"å¾…å‘é€å›¾ç‰‡ ("+y(A.value.length)+")",1),e("button",{onClick:de,class:"clear-images-btn"},"æ¸…ç©º")]),e("div",Ms,[(i(!0),u(ie,null,re(A.value,(h,z)=>(i(),u("div",{key:z,class:"pending-image-item"},[e("img",{src:h,class:"pending-image-preview"},null,8,Cs),e("button",{onClick:L=>_(z),class:"remove-image-btn"},[...l[14]||(l[14]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])],8,xs)]))),128))])])):x("",!0),e("div",$s,[e("button",{class:"attach-btn",onClick:b,title:"ä¸Šä¼ å›¾ç‰‡"},[...l[15]||(l[15]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e("polyline",{points:"21 15 16 10 5 21"})],-1)])]),se(e("textarea",{"onUpdate:modelValue":l[3]||(l[3]=h=>T.value=h),class:"chat-input",placeholder:"è¾“å…¥æ¶ˆæ¯... (Ctrl+V ç²˜è´´å›¾ç‰‡)",rows:"1",onKeydown:[ke(Q(Y,["exact","prevent"]),["enter"]),l[4]||(l[4]=ke(Q(h=>T.value+=`
`,["shift","exact"]),["enter"]))],ref_key:"inputRef",ref:M},null,40,Ts),[[oe,T.value]]),e("button",{class:"send-btn",onClick:Y,disabled:!T.value.trim()&&A.value.length===0||B.value||!V.value,title:"å‘é€ (Enter)"},[...l[16]||(l[16]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})],-1)])],8,Ds)]),V.value?x("",!0):(i(),u("div",As,[l[17]||(l[17]=e("span",{class:"warning-icon"},"âš ï¸",-1)),l[18]||(l[18]=e("span",null,"è¯·å…ˆåœ¨è®¾ç½®ä¸­å®Œæˆ Qwen AI æŽˆæƒ",-1)),e("button",{class:"link-btn",onClick:ue},"å‰å¾€è®¾ç½®")]))])])])):x("",!0)]),_:1}),D(Ee,{name:"fade"},{default:Ie(()=>[K.value?(i(),u("div",{key:0,class:"image-preview-modal",onClick:pe},[e("img",{src:K.value,class:"preview-image",onClick:l[5]||(l[5]=Q(()=>{},["stop"]))},null,8,Ss),e("button",{class:"preview-close-btn",onClick:pe},[...l[19]||(l[19]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])])):x("",!0)]),_:1}),e("input",{type:"file",ref_key:"fileInputRef",ref:v,onChange:k,accept:"image/*",multiple:"",style:{display:"none"}},null,544)]))}}),Es=Ce(zs,[["__scopeId","data-v-63cfa283"]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=w=>{for(const m in w)if(m.startsWith("aria-")||m==="role"||m==="title")return!0;return!1};/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=w=>w==="";/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=(...w)=>w.filter((m,n,d)=>!!m&&m.trim()!==""&&d.indexOf(m)===n).join(" ").trim();/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=w=>w.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=w=>w.replace(/^([A-Z])|[\s-_]+(\w)/g,(m,n,d)=>d?d.toUpperCase():n.toLowerCase());/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=w=>{const m=qs(w);return m.charAt(0).toUpperCase()+m.slice(1)};/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var he={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=({name:w,iconNode:m,absoluteStrokeWidth:n,"absolute-stroke-width":d,strokeWidth:$,"stroke-width":I,size:M=he.width,color:v=he.stroke,...T},{slots:B})=>be("svg",{...he,...T,width:M,height:M,stroke:v,"stroke-width":Ue(n)||Ue(d)||n===!0||d===!0?Number($||I||he["stroke-width"])*24/Number(M):$||I||he["stroke-width"],class:Bs("lucide",T.class,...w?[`lucide-${Le(Us(w))}-icon`,`lucide-${Le(w)}`]:["lucide-icon"]),...!B.default&&!Is(T)&&{"aria-hidden":"true"}},[...m.map(A=>be(...A)),...B.default?[B.default()]:[]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c=(w,m)=>(n,{slots:d,attrs:$})=>be(Ls,{...$,...n,iconNode:m,name:w},d);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=c("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=c("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=c("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=c("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=c("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=c("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=c("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=c("castle",[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=c("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=c("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=c("church",[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"m18 9 3.52 2.147a1 1 0 0 1 .48.854V19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-6.999a1 1 0 0 1 .48-.854L6 9",key:"flvdwo"}],["path",{d:"M6 21V7a1 1 0 0 1 .376-.782l5-3.999a1 1 0 0 1 1.249.001l5 4A1 1 0 0 1 18 7v14",key:"a5i0n2"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=c("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=c("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=c("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=c("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=c("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=c("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=c("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=c("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=c("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=c("flower-2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=c("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=c("ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=c("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=c("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=c("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=c("heart-pulse",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=c("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=c("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=c("laptop",[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=c("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=c("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=c("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=c("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=c("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=c("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=c("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=c("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=c("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=c("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=c("scale",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=c("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=c("search-check",[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=c("search-x",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=c("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=c("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=c("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=c("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=c("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=c("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=c("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=c("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=c("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=c("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=c("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=c("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=c("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=c("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=c("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Po={class:"home"},Ho={class:"main"},jo={class:"content-wrapper"},Ro={class:"sidebar"},Ko={class:"sidebar-section"},Qo={class:"category-list"},Fo={class:"category-icon"},No={class:"category-count"},Yo=["onClick"],Oo={class:"category-name"},Zo={class:"category-count"},Wo={class:"category-icon add-icon"},Xo={class:"sidebar-bottom"},Jo={class:"sidebar-section"},Go=["src"],ea={class:"baidupan-info"},ta={class:"baidupan-name"},sa={class:"baidupan-vip"},oa={class:"sidebar-section"},aa={class:"category-icon"},na={class:"content"},la={key:0,class:"content-header"},ia={class:"section-info"},ra={class:"section-title"},ca={class:"section-subtitle"},da={class:"header-controls"},ua={class:"search-container"},ga={class:"search-box"},ha={class:"view-controls"},va={key:1,class:"search-loading"},pa={key:2,class:"search-results-info"},ya={class:"search-info-content"},ka={class:"search-info-text"},ma={key:3},fa=["onClick","onContextmenu"],wa={class:"book-cover-container"},ba={key:0,class:"book-cover-placeholder"},_a={class:"placeholder-text"},Ma={class:"book-format-badge"},Ca={key:1,class:"book-downloading-overlay"},xa=["onClick","title"],$a={class:"book-info"},Ta={class:"book-title"},Da={class:"book-author"},Aa={key:0,class:"book-progress"},Sa={class:"progress-bar-container"},za={class:"progress-text"},Ea={class:"book-meta"},Ia={class:"book-last-read"},Ba={key:0,class:"empty-state"},qa={key:1,class:"empty-state"},Ua={class:"dialog-header"},La={class:"dialog-body"},Va={class:"category-manage-list"},Pa=["onClick"],Ha={class:"category-manage-name"},ja={class:"dialog-footer"},Ra=["disabled"],Ka={class:"dialog-header"},Qa={class:"dialog-body"},Fa={class:"form-group"},Na={class:"form-group"},Ya={class:"color-picker-container"},Oa={class:"color-value"},Za={class:"dialog-footer"},Wa=["disabled"],Xa={class:"dialog-header"},Ja={class:"dialog-body"},Ga={class:"form-group"},en={class:"form-group"},tn={class:"form-group"},sn=Me({__name:"index",setup(w){const m=Qe(),n=Fe(),d=Re(),$=p("grid"),I=p(null),M=p(""),v=p("all"),T=p(!1),B=p(!1),A=p(0),K=p(0),f=p(null),P=p(!1),q=p(""),E=p("#4A90E2"),G=p(!1),V=p(""),ce=p(!1),C=p({appKey:"",secretKey:"",refreshToken:""}),H=p([]),Z=p(!1),ee=O(()=>n.isBaidupanTokenValid()),N=()=>{ce.value=!1},W=async()=>{try{if(await n.updateUserConfig({storage:{...n.userConfig.storage,baidupan:{appKey:C.value.appKey,secretKey:C.value.secretKey,refreshToken:C.value.refreshToken,accessToken:"",expiration:0,rootPath:"",userId:"",namingStrategy:"1"}}},!0),C.value.refreshToken&&C.value.appKey&&C.value.secretKey){const a=await _e.refreshToken(C.value.refreshToken,C.value.appKey,C.value.secretKey);!a.error&&a.access_token&&(await n.updateUserConfig({storage:{...n.userConfig.storage,baidupan:{appKey:C.value.appKey,secretKey:C.value.secretKey,refreshToken:a.refresh_token||C.value.refreshToken,accessToken:a.access_token,expiration:Date.now()+a.expires_in*1e3,rootPath:"",userId:"",namingStrategy:"1"}}},!0),await n.fetchBaidupanUserInfo(!0))}N()}catch(a){console.error("ä¿å­˜ç™¾åº¦ç½‘ç›˜æŽˆæƒä¿¡æ¯å¤±è´¥:",a)}},ue=async a=>{$.value=a,await n.updateUserConfig({ui:{...n.userConfig.ui,viewMode:a}})},r=O(()=>n.books),o=O(()=>(n.categories||[]).filter(a=>a.name!=="æœªåˆ†ç±»")),b=O(()=>v.value==="all"?r.value:r.value.filter(a=>a.categoryId===v.value)),k=O(()=>M.value&&H.value.length>0?H.value:b.value),S=p({categoryBooks:{},categoryNames:{},categoryColors:{}}),de=async a=>{const t=n.getBookById(a);if(!t){d.showErrorDialog("ä¹¦ç±ä¸å­˜åœ¨","æ— æ³•æ‰¾åˆ°è¯¥ä¹¦ç±");return}if(t.storageType==="baidupan"){d.showDialog({title:"éœ€è¦ä¸‹è½½",message:`ã€Š${t.title}ã€‹å°šæœªä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ˜¯å¦ç«‹å³ä¸‹è½½ï¼Ÿ`,type:"info",buttons:[{text:"å–æ¶ˆ"},{text:"ä¸‹è½½",primary:!0,callback:async()=>{try{d.showDialog({title:"æ­£åœ¨ä¸‹è½½",message:`æ­£åœ¨ä»Žç™¾åº¦ç½‘ç›˜ä¸‹è½½ã€Š${t.title}ã€‹...`,type:"info",buttons:[]});const s=await n.downloadFromBaidupan(t.baidupanPath||t.path);d.closeDialog(),s?(d.showSuccessDialog("ä¸‹è½½æˆåŠŸ","å³å°†æ‰“å¼€é˜…è¯»å™¨"),await new Promise(U=>setTimeout(U,500)),m.push(`/reader/${a}`)):d.showErrorDialog("ä¸‹è½½å¤±è´¥","è¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥æˆ–æŽˆæƒçŠ¶æ€")}catch(s){d.closeDialog(),console.error("ä¸‹è½½å¤±è´¥:",s);const U=s instanceof Error?s.message:"ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•";d.showErrorDialog("ä¸‹è½½å¤±è´¥",U)}}}]});return}m.push(`/reader/${a}`)},_=()=>{I.value&&I.value.click()},me=async a=>{const s=a.target.files?.[0];if(!s)return;const U=s.name.toLowerCase().split(".").pop();if(!["epub","pdf","txt"].includes(U||"")){d.showErrorDialog("ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼","ä»…æ”¯æŒ EPUBã€PDF å’Œ TXT æ ¼å¼çš„ç”µå­ä¹¦");return}try{d.showDialog({title:"æ­£åœ¨å¯¼å…¥",message:`æ­£åœ¨å¯¼å…¥ ${s.name} ...`,type:"info",buttons:[]}),await n.importEbookFile(s)?(d.closeDialog(),d.showSuccessDialog("å¯¼å…¥æˆåŠŸ")):(d.closeDialog(),d.showErrorDialog("å¯¼å…¥å¤±è´¥","æ— æ³•å¯¼å…¥æ‰€é€‰æ–‡ä»¶"))}catch(F){d.closeDialog(),console.error("å¯¼å…¥æ–‡ä»¶å¤±è´¥:",F),d.showErrorDialog("å¯¼å…¥å¤±è´¥",F instanceof Error?F.message:String(F))}finally{I.value&&(I.value.value="")}},pe=a=>Je(a).format("YYYY-MM-DD HH:mm"),ge=(a,t)=>{a.preventDefault(),B.value=!0,A.value=a.clientX,K.value=a.clientY,f.value=t,document.addEventListener("click",g)},Y=(a=!0)=>{B.value=!1,a&&(f.value=null)},g=a=>{Y(),document.removeEventListener("click",g)},l=async a=>{if(!a)return;const t=a;Y(),await Te(t)},h=a=>{if(!a)return;const t=a.id,s=a.title,U=a.storageType;d.showDialog({title:"ç¡®è®¤åˆ é™¤",message:`ç¡®å®šè¦åˆ é™¤ã€Š${s}ã€‹å—ï¼Ÿ`,type:"warning",buttons:[{text:"å–æ¶ˆ"},{text:"åˆ é™¤",primary:!0,callback:async()=>{console.log("å¼€å§‹æ‰§è¡Œåˆ é™¤é€»è¾‘, ID:",t);try{await n.removeBook(t,U)?d.showSuccessDialog("ä¹¦ç±åˆ é™¤æˆåŠŸ"):d.showErrorDialog("åˆ é™¤å¤±è´¥","æ— æ³•åˆ é™¤æŒ‡å®šä¹¦ç±")}catch(F){console.error("åˆ é™¤è¿‡ç¨‹æŠ¥é”™:",F),d.showErrorDialog("åˆ é™¤å¤±è´¥",F instanceof Error?F.message:String(F))}}}]}),Y()},z=async()=>{if(!f.value||!V.value){console.error("selectedBook æˆ– selectedCategoryId ä¸º nullï¼Œæ— æ³•ç§»åŠ¨ä¹¦ç±");return}const a=f.value,t=V.value;console.log("ç§»åŠ¨ä¹¦ç±åˆ°åˆ†ç±»:",a.title,"->",t),console.log("selectedBook:",f.value);try{console.log("è°ƒç”¨ ebookStore.addBookToCategory");const s=await n.addBookToCategory(a.id,t);console.log("addBookToCategory è¿”å›žç»“æžœ:",s),s?(d.showSuccessDialog("ä¹¦ç±åˆ†ç±»æ›´æ–°æˆåŠŸ"),ne(),console.log("ä¹¦ç±åˆ†ç±»æ›´æ–°æˆåŠŸï¼Œå¯¹è¯æ¡†å·²å…³é—­")):(d.showErrorDialog("åˆ†ç±»æ›´æ–°å¤±è´¥","æ— æ³•æ‰¾åˆ°æŒ‡å®šä¹¦ç±æˆ–åˆ†ç±»"),console.log("ä¹¦ç±åˆ†ç±»æ›´æ–°å¤±è´¥ï¼Œå¯¹è¯æ¡†å·²å…³é—­"))}catch(s){console.error("ç§»åŠ¨ä¹¦ç±åˆ°åˆ†ç±»å¤±è´¥:",s),d.showErrorDialog("åˆ†ç±»æ›´æ–°å¤±è´¥",s instanceof Error?s.message:String(s)),ne()}},L=()=>{P.value=!0,q.value="",E.value="#4A90E2",Y()},j=()=>{P.value=!1,q.value=""},X=()=>{G.value=!0,document.removeEventListener("click",g),Y(!1)},ne=()=>{G.value=!1,V.value="",f.value=null,Y()},xe=async()=>{if(q.value.trim()){console.log("å¼€å§‹åˆ›å»ºåˆ†ç±»ï¼Œåç§°:",q.value.trim(),"é¢œè‰²:",E.value);try{const a=await n.addCategory(q.value.trim(),E.value);console.log("åˆ†ç±»åˆ›å»ºæˆåŠŸï¼Œè¿”å›žç»“æžœ:",a),await new Promise(t=>setTimeout(t,100)),console.log("å½“å‰åˆ†ç±»åˆ—è¡¨:",n.categories),console.log("åˆ†ç±»æ•°é‡:",n.categories.length),d.showSuccessDialog("åˆ†ç±»åˆ›å»ºæˆåŠŸ"),j()}catch(a){console.error("æ·»åŠ åˆ†ç±»å¤±è´¥:",a),d.showErrorDialog("åˆ†ç±»åˆ›å»ºå¤±è´¥",a instanceof Error?a.message:String(a))}}},$e=async()=>{if(!M.value.trim()){fe();return}Z.value=!0;try{const a=await n.searchBooks(M.value.trim());H.value=a}catch(a){console.error("æœç´¢å¤±è´¥:",a),d.showErrorDialog("æœç´¢å¤±è´¥",a instanceof Error?a.message:String(a)),H.value=[]}finally{Z.value=!1}},fe=()=>{M.value="",H.value=[]},Ne=a=>({local:"æœ¬åœ°å­˜å‚¨",synced:"å·²åŒæ­¥åˆ°äº‘ç«¯",baidupan:"ç‚¹å‡»ä¸‹è½½åˆ°æœ¬åœ°"})[a]||"æœªçŸ¥",Ye=async a=>{if(a.storageType==="baidupan")try{d.showDialog({title:"æ­£åœ¨ä¸‹è½½",message:`æ­£åœ¨ä»Žç™¾åº¦ç½‘ç›˜ä¸‹è½½ã€Š${a.title}ã€‹...`,type:"info",buttons:[]});const t=await n.downloadFromBaidupan(a.baidupanPath||a.path);d.closeDialog(),t?d.showSuccessDialog("ä¸‹è½½æˆåŠŸ"):d.showErrorDialog("ä¸‹è½½å¤±è´¥","è¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥æˆ–æŽˆæƒçŠ¶æ€")}catch(t){d.closeDialog(),console.error("ä¸‹è½½å¤±è´¥:",t);const s=t instanceof Error?t.message:"ä¸‹è½½å¤±è´¥ï¼Œè¯·é‡è¯•";d.showErrorDialog("ä¸‹è½½å¤±è´¥",s)}else a.storageType==="local"&&await Te(a)},Te=async a=>{if(!ee.value){d.showErrorDialog("æœªæŽˆæƒ","è¯·å…ˆæŽˆæƒç™¾åº¦ç½‘ç›˜");return}try{d.showDialog({title:"æ­£åœ¨ä¸Šä¼ ",message:`æ­£åœ¨ä¸Šä¼ ã€Š${a.title}ã€‹åˆ°ç™¾åº¦ç½‘ç›˜...`,type:"info",buttons:[]});const t=await n.uploadLocalBookToBaidupan(a);d.closeDialog(),t?d.showSuccessDialog("ä¸Šä¼ æˆåŠŸ"):d.showErrorDialog("ä¸Šä¼ å¤±è´¥","è¯·æ£€æŸ¥ç½‘ç»œè¿žæŽ¥æˆ–æŽˆæƒçŠ¶æ€")}catch(t){d.closeDialog(),console.error("ä¸Šä¼ å¤±è´¥:",t);const s=t instanceof Error?t.message:"ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•";d.showErrorDialog("ä¸Šä¼ å¤±è´¥",s)}},De=a=>{if(S.value.categoryNames[a])return S.value.categoryNames[a];const t=n.categories.find(U=>U.id===a),s=t?t.name:"æœªåˆ†ç±»";return S.value.categoryNames[a]=s,s},Ae=a=>{if(S.value.categoryColors[a])return S.value.categoryColors[a];const t=n.categories.find(U=>U.id===a),s=t?t.color:"#4A90E2";return S.value.categoryColors[a]=s,s},Se=a=>({æŠ€æœ¯:Xs,å°è¯´:Ve,åŽ†å²:Mo,å“²å­¦:Hs,ç§‘å­¦:so,è‰ºæœ¯:mo,å¥åº·:ro,ç»æµŽ:Vs,å†›äº‹:To,å¿ƒç†:Ps,æ•™è‚²:lo,è®¡ç®—æœº:go,ç¼–ç¨‹:Ws,åŒ»å­¦:zo,çƒ¹é¥ª:Ns,æ—…è¡Œ:wo,ä½“è‚²:Io,éŸ³ä¹:ko,ç”µå½±:eo,æ‘„å½±:Ks,è®¾è®¡:fo,å•†ä¸š:js,é‡‘èž:Fs,æ³•å¾‹:_o,æ”¿æ²»:uo,å®—æ•™:Ys,æ–‡å­¦:Gs,ä¼ è®°:Uo,ç§‘å¹»:bo,å¥‡å¹»:Vo,æ‚¬ç–‘:je,çˆ±æƒ…:co,ææ€–:ao,å„¿ç«¥:Do,é’æ˜¥:oo,èŒåœº:Lo,åŠ±å¿—:Ao,ç»å…¸:So,çŽ°ä»£:Rs,å¤ä»£:Qs,å¤–å›½:no,ä¸­å›½:to})[a]||Pe,Oe=a=>Se(a),ze=a=>{if(S.value.categoryBooks[a])return S.value.categoryBooks[a];const t=n.books.filter(s=>s.categoryId===a);return S.value.categoryBooks[a]=t,t};we([()=>r.value.length,()=>o.value.length],()=>{S.value={categoryBooks:{},categoryNames:{},categoryColors:{}}}),Ke(async()=>{try{console.log("é¦–é¡µåŠ è½½ï¼Œå¼€å§‹åˆå§‹åŒ–ç”µå­ä¹¦å­˜å‚¨..."),await n.initialize(),ee.value&&!n.baidupanUser&&await n.fetchBaidupanUserInfo(),Ze()}catch(a){console.error("åˆå§‹åŒ–ç”µå­ä¹¦å­˜å‚¨å¤±è´¥:",a)}});const Ze=()=>{n.userConfig.reader.theme==="dark"?document.documentElement.classList.add("theme-dark"):document.documentElement.classList.remove("theme-dark")};return we(()=>n.userConfig.reader.theme,a=>{a==="dark"?document.documentElement.classList.add("theme-dark"):document.documentElement.classList.remove("theme-dark")}),(a,t)=>(i(),u("div",Po,[e("main",Ho,[e("div",jo,[e("aside",Ro,[t[25]||(t[25]=e("div",{class:"sidebar-header"},[e("div",{class:"logo"},[e("img",{src:at,alt:"Logo",class:"logo-icon",style:{width:"48px",height:"48px"}}),e("h1",{class:"logo-text"},"Reader")])],-1)),e("div",Ko,[t[22]||(t[22]=e("h3",{class:"sidebar-title"},"ä¹¦æž¶",-1)),e("div",Qo,[e("button",{class:R(["category-item",{active:v.value==="all"}]),onClick:t[0]||(t[0]=s=>v.value="all")},[e("span",Fo,[D(vo,{size:20})]),t[20]||(t[20]=e("span",{class:"category-name"},"å…¨éƒ¨ä¹¦ç±",-1)),e("span",No,y(r.value.length),1)],2),(i(!0),u(ie,null,re(o.value,s=>(i(),u("button",{key:s.id,class:R(["category-item",{active:v.value===s.id}]),style:te({"--category-color":s.color}),onClick:U=>v.value=s.id},[e("span",{class:"category-icon",style:te({backgroundColor:s.color+"20",color:s.color})},[(i(),le(qe(Se(s.name)),{size:20}))],4),e("span",Oo,y(s.name),1),e("span",Zo,y(ze(s.id).length),1)],14,Yo))),128)),e("button",{class:"category-item add-category",onClick:L},[e("span",Wo,[D(He,{size:20})]),t[21]||(t[21]=e("span",{class:"category-name"},"æ–°å»ºåˆ†ç±»",-1))])])]),e("div",Xo,[e("div",Jo,[ee.value&&ae(n).baidupanUser?(i(),u("div",{key:0,class:"baidupan-status",onClick:t[1]||(t[1]=s=>v.value="settings")},[e("img",{src:ae(n).baidupanUser.avatar_url,class:"baidupan-avatar",alt:"å¤´åƒ"},null,8,Go),e("div",ea,[e("span",ta,y(ae(n).baidupanUser.baidu_name),1),e("span",sa,y(ae(n).baidupanUser.vip_type===2?"è¶…çº§ä¼šå‘˜":ae(n).baidupanUser.vip_type===1?"æ™®é€šä¼šå‘˜":"æ™®é€šç”¨æˆ·"),1)])])):ee.value?x("",!0):(i(),u("div",{key:1,class:"baidupan-status unauthorized",onClick:t[2]||(t[2]=s=>v.value="settings")},[D(qo,{size:20}),t[23]||(t[23]=e("span",{class:"baidupan-text"},"æœªæŽˆæƒ",-1))]))]),e("div",oa,[e("button",{class:R(["category-item",{active:v.value==="settings"}]),onClick:t[3]||(t[3]=s=>v.value="settings")},[e("span",aa,[D($o,{size:20})]),t[24]||(t[24]=e("span",{class:"category-name"},"è®¾ç½®",-1))],2)])])]),e("section",na,[v.value!=="settings"?(i(),u("div",la,[e("div",ia,[e("h2",ra,y(v.value==="all"?"æˆ‘çš„ä¹¦æž¶":De(v.value)),1),e("p",ca,y(v.value==="all"?`å…± ${r.value.length} æœ¬ä¹¦ç±`:`å…± ${ze(v.value).length} æœ¬`),1)]),e("div",da,[e("div",ua,[e("div",ga,[se(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=s=>M.value=s),placeholder:"è¾“å…¥ä¹¦åã€ä½œè€…",class:"search-input",onKeyup:ke($e,["enter"])},null,544),[[oe,M.value]]),e("button",{class:"search-btn",onClick:$e},[D(je,{size:18})])])]),e("div",ha,[e("button",{class:R(["view-btn",{active:$.value==="grid"}]),onClick:t[5]||(t[5]=s=>$.value="grid")},[D(ho,{size:16}),t[26]||(t[26]=ye(" ç½‘æ ¼ ",-1))],2),e("button",{class:R(["view-btn",{active:$.value==="list"}]),onClick:t[6]||(t[6]=s=>$.value="list")},[D(po,{size:16}),t[27]||(t[27]=ye(" åˆ—è¡¨ ",-1))],2)])])])):x("",!0),Z.value&&v.value!=="settings"?(i(),u("div",va,[...t[28]||(t[28]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"æ­£åœ¨æœç´¢...",-1)])])):H.value.length>0&&M.value&&v.value!=="settings"?(i(),u("div",pa,[e("div",ya,[D(Co,{size:24,class:"search-info-icon"}),e("div",ka,[t[29]||(t[29]=e("h3",null,"æœç´¢ç»“æžœ",-1)),e("p",null,"æ‰¾åˆ° "+y(H.value.length)+" ä¸ªç»“æžœï¼Œå…³é”®è¯: "+y(M.value),1)]),e("button",{class:"clear-search-btn",onClick:fe},[D(ve,{size:16})])])])):x("",!0),v.value!=="settings"?(i(),u("div",ma,[e("div",{class:R($.value==="grid"?"books-grid":"books-list")},[(i(!0),u(ie,null,re(k.value,s=>(i(),u("div",{key:s.id,class:R(["book-card",{"has-progress":s.readingProgress>0}]),onClick:U=>de(s.id),onContextmenu:Q(U=>ge(U,s),["prevent"])},[e("div",wa,[e("div",{class:"book-cover",style:te({backgroundImage:s.cover?`url(${s.cover})`:"none"})},[s.cover?x("",!0):(i(),u("div",ba,[t[30]||(t[30]=e("span",{class:"placeholder-icon"},"ðŸ“š",-1)),e("span",_a,y(s.title.charAt(0)),1)])),e("div",Ma,y(s.format.toUpperCase()),1),s.downloading?(i(),u("div",Ca,[...t[31]||(t[31]=[e("div",{class:"downloading-spinner"},null,-1),e("span",{class:"downloading-text"},"ä¸‹è½½ä¸­...",-1)])])):(i(),u("div",{key:2,class:R(["book-storage-badge",{local:s.storageType==="local",synced:s.storageType==="synced",baidupan:s.storageType==="baidupan"}]),onClick:Q(U=>Ye(s),["stop"]),title:Ne(s.storageType)},[s.storageType==="local"?(i(),le(io,{key:0,size:14})):s.storageType==="synced"?(i(),le(Zs,{key:1,size:14})):s.storageType==="baidupan"?(i(),le(Js,{key:2,size:14})):x("",!0)],10,xa))],4)]),e("div",$a,[e("h3",Ta,y(s.title),1),e("p",Da,y(s.author||"æœªçŸ¥ä½œè€…"),1),s.readingProgress>0?(i(),u("div",Aa,[e("div",Sa,[e("div",{class:"progress-bar",style:te({width:`${s.readingProgress}%`})},null,4)]),e("span",za,y(s.readingProgress)+"%",1)])):x("",!0),e("div",Ea,[e("span",Ia,y(pe(s.lastRead)),1),s.categoryId?(i(),u("span",{key:0,class:"book-category",style:te({backgroundColor:Ae(s.categoryId)+"20",color:Ae(s.categoryId)})},y(De(s.categoryId)),5)):x("",!0)])])],42,fa))),128))],2),k.value.length===0&&!Z.value&&v.value!=="settings"?(i(),u("div",Ba,[D(Ve,{size:64,class:"empty-icon"}),e("h3",null,y(v.value==="all"?"ä¹¦æž¶æ˜¯ç©ºçš„":"è¯¥åˆ†ç±»ä¸‹æ²¡æœ‰ä¹¦ç±"),1),e("p",null,y(v.value==="all"?"æ·»åŠ ä¸€äº›ç”µå­ä¹¦å¼€å§‹é˜…è¯»å§":"ç‚¹å‡»å·¦ä¾§æ·»åŠ ä¹¦ç±"),1),e("button",{class:"btn btn-primary add-books-btn",onClick:_},[D(Bo,{size:16}),t[32]||(t[32]=ye(" æ·»åŠ ä¹¦ç± ",-1))])])):x("",!0),H.value.length===0&&M.value&&!Z.value&&v.value!=="settings"?(i(),u("div",qa,[D(xo,{size:64,class:"empty-icon"}),t[34]||(t[34]=e("h3",null,"æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ä¹¦ç±",-1)),t[35]||(t[35]=e("p",null,"å°è¯•å…¶ä»–å…³é”®è¯æˆ–æ£€æŸ¥æ‹¼å†™",-1)),e("button",{class:"btn btn-secondary",onClick:fe},[D(ve,{size:16}),t[33]||(t[33]=ye(" æ¸…é™¤æœç´¢ ",-1))])])):x("",!0)])):v.value==="settings"?(i(),le(Gt,{key:4,"baidupan-user":ae(n).baidupanUser,"view-mode":$.value,onUpdateViewMode:ue},null,8,["baidupan-user","view-mode"])):x("",!0)])])]),v.value!=="settings"?(i(),u("button",{key:0,class:"floating-add-btn",onClick:_},[D(He,{size:24})])):x("",!0),v.value!=="settings"?(i(),u("button",{key:1,class:"floating-chat-btn",onClick:t[7]||(t[7]=s=>T.value=!0)},[D(yo,{size:24})])):x("",!0),e("input",{type:"file",ref_key:"fileInputRef",ref:I,onChange:me,style:{display:"none"},accept:".epub,.pdf,.txt"},null,544),D(Es,{visible:T.value,"onUpdate:visible":t[8]||(t[8]=s=>T.value=s)},null,8,["visible"]),B.value?(i(),u("div",{key:2,class:"context-menu",style:te({left:A.value+"px",top:K.value+"px"}),onContextmenu:t[11]||(t[11]=Q(()=>{},["prevent"]))},[e("div",{class:"menu-item",onClick:t[9]||(t[9]=s=>l(f.value))},[D(Os,{size:18,class:"menu-icon"}),t[36]||(t[36]=e("span",{class:"menu-text"},"ä¸Šä¼ åˆ°ç™¾åº¦ç½‘ç›˜",-1))]),e("div",{class:"menu-item",onClick:Q(X,["stop"])},[D(Pe,{size:18,class:"menu-icon"}),t[37]||(t[37]=e("span",{class:"menu-text"},"åˆ†ç±»ç®¡ç†",-1))]),e("div",{class:"menu-item danger",onClick:t[10]||(t[10]=s=>h(f.value))},[D(Eo,{size:18,class:"menu-icon"}),t[38]||(t[38]=e("span",{class:"menu-text"},"åˆ é™¤ä¹¦ç±",-1))])],36)):x("",!0),G.value?(i(),u("div",{key:3,class:"dialog-overlay",onClick:ne},[e("div",{class:"dialog-content",onClick:t[12]||(t[12]=Q(()=>{},["stop"]))},[e("div",Ua,[t[39]||(t[39]=e("h3",{class:"dialog-title"},"åˆ†ç±»ç®¡ç†",-1)),e("button",{class:"dialog-close",onClick:ne},[D(ve,{size:20})])]),e("div",La,[e("div",Va,[(i(!0),u(ie,null,re(o.value,s=>(i(),u("div",{key:s.id,class:R(["category-manage-item",{selected:V.value===s.id}]),onClick:U=>V.value=s.id},[e("span",{class:"category-manage-icon",style:te({backgroundColor:s.color+"20",color:s.color})},[(i(),le(qe(Oe(s.name)),{size:18}))],4),e("span",Ha,y(s.name),1)],10,Pa))),128))])]),e("div",ja,[e("button",{class:"btn btn-secondary",onClick:ne},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:z,disabled:!V.value}," ç¡®å®š ",8,Ra)])])])):x("",!0),P.value?(i(),u("div",{key:4,class:"dialog-overlay",onClick:j},[e("div",{class:"dialog-content",onClick:t[15]||(t[15]=Q(()=>{},["stop"]))},[e("div",Ka,[t[40]||(t[40]=e("h3",{class:"dialog-title"},"æ–°å»ºåˆ†ç±»",-1)),e("button",{class:"dialog-close",onClick:j},[D(ve,{size:20})])]),e("div",Qa,[e("div",Fa,[t[41]||(t[41]=e("label",{class:"form-label"},"åˆ†ç±»åç§°",-1)),se(e("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=s=>q.value=s),placeholder:"è¾“å…¥åˆ†ç±»åç§°",class:"form-input",onKeyup:ke(xe,["enter"])},null,544),[[oe,q.value]])]),e("div",Na,[t[42]||(t[42]=e("label",{class:"form-label"},"åˆ†ç±»é¢œè‰²",-1)),e("div",Ya,[se(e("input",{type:"color","onUpdate:modelValue":t[14]||(t[14]=s=>E.value=s),class:"color-picker"},null,512),[[oe,E.value]]),e("span",{class:"color-preview",style:te({backgroundColor:E.value})},null,4),e("span",Oa,y(E.value),1)])])]),e("div",Za,[e("button",{class:"btn btn-secondary",onClick:j},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:xe,disabled:!q.value.trim()},"åˆ›å»º",8,Wa)])])])):x("",!0),ce.value?(i(),u("div",{key:5,class:"dialog-overlay",onClick:N},[e("div",{class:"dialog-content",onClick:t[19]||(t[19]=Q(()=>{},["stop"]))},[e("div",Xa,[t[43]||(t[43]=e("h3",{class:"dialog-title"},"ç™¾åº¦ç½‘ç›˜æŽˆæƒ",-1)),e("button",{class:"dialog-close",onClick:N},[D(ve,{size:20})])]),e("div",Ja,[e("div",Ga,[t[44]||(t[44]=e("label",{class:"form-label"},"App Key",-1)),se(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=s=>C.value.appKey=s),placeholder:"è¾“å…¥ç™¾åº¦ç½‘ç›˜ App Key",class:"form-input"},null,512),[[oe,C.value.appKey]])]),e("div",en,[t[45]||(t[45]=e("label",{class:"form-label"},"Secret Key",-1)),se(e("input",{type:"password","onUpdate:modelValue":t[17]||(t[17]=s=>C.value.secretKey=s),placeholder:"è¾“å…¥ç™¾åº¦ç½‘ç›˜ Secret Key",class:"form-input"},null,512),[[oe,C.value.secretKey]])]),e("div",tn,[t[46]||(t[46]=e("label",{class:"form-label"},"Refresh Token",-1)),se(e("input",{type:"password","onUpdate:modelValue":t[18]||(t[18]=s=>C.value.refreshToken=s),placeholder:"è¾“å…¥ç™¾åº¦ç½‘ç›˜ Refresh Token",class:"form-input"},null,512),[[oe,C.value.refreshToken]])])]),e("div",{class:"dialog-footer"},[e("button",{class:"btn btn-secondary",onClick:N},"å–æ¶ˆ"),e("button",{class:"btn btn-primary",onClick:W},"ä¿å­˜")])])])):x("",!0)]))}}),rn=Ce(sn,[["__scopeId","data-v-813558bf"]]);export{rn as default};
