import{c as d,d as _e,u as Re,o as je,a as dt,b as i,e,t as _,w as ne,v as le,f as z,g as w,n as H,h as re,i as te,r as h,j as a,k as X,_ as be,l as we,m as oe,T as ut,p as ht,q as Fe,F as ee,s as ae,x as Y,y as Te,z as ce,A as G,B as ye,C as vt,D as gt,X as ie,E as Be}from"./index-DA789M3t.js";import{d as pt}from"./dayjs.min-DtDXZA6q.js";import{u as Qe,a as pe,d as qe}from"./ebook-pfLw0BVb.js";import{q as se,s as yt,t as kt,r as mt,p as ft,c as wt,U as _t}from"./qwenTokenManager-BXa4MPbs.js";/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=d("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=d("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=d("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=d("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=d("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=d("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=d("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=d("castle",[["path",{d:"M10 5V3",key:"1y54qe"}],["path",{d:"M14 5V3",key:"m6isi"}],["path",{d:"M15 21v-3a3 3 0 0 0-6 0v3",key:"lbp5hj"}],["path",{d:"M18 3v8",key:"2ollhf"}],["path",{d:"M18 5H6",key:"98imr9"}],["path",{d:"M22 11H2",key:"1lmjae"}],["path",{d:"M22 9v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9",key:"1rly83"}],["path",{d:"M6 3v8",key:"csox7g"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=d("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=d("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=d("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=d("church",[["path",{d:"M10 9h4",key:"u4k05v"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"m18 9 3.52 2.147a1 1 0 0 1 .48.854V19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-6.999a1 1 0 0 1 .48-.854L6 9",key:"flvdwo"}],["path",{d:"M6 21V7a1 1 0 0 1 .376-.782l5-3.999a1 1 0 0 1 1.249.001l5 4A1 1 0 0 1 18 7v14",key:"a5i0n2"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=d("cloud-download",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=d("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=d("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=d("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=d("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=d("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=d("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=d("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=d("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=d("flower-2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=d("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=d("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=d("ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=d("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=d("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=d("heart-pulse",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=d("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=d("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=d("laptop",[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=d("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=d("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=d("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=d("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=d("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=d("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=d("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=d("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=d("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=d("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=d("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=d("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=d("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=d("scale",[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=d("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=d("search-check",[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=d("search-x",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=d("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=d("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=d("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=d("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=d("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=d("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=d("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=d("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=d("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=d("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=d("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=d("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=d("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=d("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),_s=""+new URL("appicon.Dx3HGttL.png",import.meta.url).href,bs={class:"settings-panel"},Cs={class:"settings-content"},Ms={class:"setting-section"},xs={class:"setting-card"},$s={class:"setting-row"},Ts={class:"setting-info"},zs={key:0,class:"setting-desc"},As={key:1,class:"setting-desc"},Ds={class:"setting-control"},Ss={key:0,class:"status connected"},Es={key:1,class:"status disconnected"},Bs={key:0,class:"setting-row"},qs={class:"setting-info",style:{width:"100%"}},Is={key:0,style:{"font-size":"12px",color:"#4A90E2",margin:"0 0 12px 0"}},Ls={key:1,class:"setting-row"},Vs={class:"setting-info",style:{width:"100%"}},Ps=["disabled"],Us={class:"setting-section"},Hs={class:"setting-card"},Rs={class:"setting-row"},js={class:"setting-info"},Fs={key:0,class:"setting-desc"},Qs={key:1,class:"setting-desc"},Ks={class:"setting-control"},Ns={key:0,class:"status connected"},Ws={key:1,class:"status disconnected"},Os={key:0,class:"setting-row"},Ys={class:"setting-info",style:{width:"100%"}},Xs=["disabled"],Zs={key:0,style:{"font-size":"14px",color:"#4A90E2",margin:"8px 0 0 0","font-weight":"600"}},Js={key:1,class:"setting-row"},Gs={class:"setting-info",style:{width:"100%"}},eo=["disabled"],to={key:2,class:"setting-row"},so={class:"setting-info",style:{width:"100%"}},oo={class:"test-result"},ao={class:"test-result-content"},no={class:"setting-section"},lo={class:"setting-card"},io={class:"setting-row"},ro={class:"setting-info"},co={class:"setting-desc"},uo={class:"setting-control"},ho={class:"toggle-group"},vo={class:"setting-row"},go={class:"setting-info"},po={class:"setting-desc"},yo={class:"setting-control"},ko=["value"],mo=_e({__name:"index",props:{baidupanUser:{},viewMode:{}},emits:["cancelBaidupanAuth","showBaidupanAuthDialog","updateViewMode"],setup(W){const F=Qe(),l=Re(),v=X(()=>F.userConfig.storage),A=h(""),L=h(""),C=h(!1),y=h(!1),b=h(!1);let S=null;const T=h(""),V=h(""),K=h(""),R=h(!1),Z=h(!1),N=h(""),O=h(""),I=h(""),m=h(null);je(()=>{const r=localStorage.getItem("qwen_access_token"),n=localStorage.getItem("qwen_refresh_token"),g=localStorage.getItem("qwen_resource_url");r&&(T.value=r),n&&(V.value=n),g&&(K.value=g),se.onRefresh(x=>{console.log("‚úÖ [Settings] Token Ëá™Âä®Âà∑Êñ∞ÊàêÂäü"),T.value=x.accessToken,V.value=x.refreshToken,x.resourceUrl&&(K.value=x.resourceUrl)}),se.onError(x=>{console.error("‚ùå [Settings] Token Ëá™Âä®Âà∑Êñ∞Â§±Ë¥•:",x),l.showErrorDialog("Token Âà∑Êñ∞Â§±Ë¥•","ÊÇ®ÁöÑ Qwen AI ÊéàÊùÉÂ∑≤ËøáÊúüÔºåËØ∑ÈáçÊñ∞ÊéàÊùÉ")})}),dt(()=>{se.destroy()});const B=async()=>{console.log("=== ÂºÄÂßãËé∑ÂèñÊéàÊùÉ ==="),console.log("ÂΩìÂâçÁéØÂ¢ÉÊ£ÄÊµã:");const r=qe();console.log("- ËøêË°åÁéØÂ¢É:",r),console.log("- window.location.href:",window.location.href);const n="https://openapi.baidu.com/oauth/2.0/authorize?response_type=code&client_id=hq9yQ9w9kR4YHj1kyYafLygVocobh7Sf&redirect_uri=https://alistgo.com/tool/baidu/callback&scope=basic,netdisk&qrcode=1";console.log("ÊéàÊùÉURL:",n);try{if(r==="tauri"||r==="electron"){console.log(`‚úì Ê£ÄÊµãÂà∞${r}ÁéØÂ¢ÉÔºå‰ΩøÁî®ÂÜÖÁΩÆÁ™óÂè£Â§ÑÁêÜÊéàÊùÉ`),console.log("Ë∞ÉÁî® api.openAuthWindow...");const g=await pe.openAuthWindow(n);console.log("openAuthWindow ËøîÂõûÁªìÊûú:",g),g.success&&g.code?(console.log("‚úì Ëé∑ÂèñÂà∞ÊéàÊùÉÁ†Å:",g.code),p(g.code)):(console.error("‚úó ÊéàÊùÉÂ§±Ë¥•:",g.error),l.showErrorDialog("ÊéàÊùÉÂ§±Ë¥•",g.error||"Áî®Êà∑ÂèñÊ∂àÊéàÊùÉ"))}else{console.log("‚úì ÊµèËßàÂô®ÁéØÂ¢ÉÔºå‰ΩøÁî®Â§ñÈÉ®ÊµèËßàÂô®ÊâìÂºÄÊéàÊùÉÈ°µÈù¢");const g=$=>{if(console.log("Êî∂Âà∞ postMessage:",$.data),$.origin!==window.location.origin){console.warn("ÂøΩÁï•Êù•Ëá™‰∏çÂêåÊ∫êÁöÑÊ∂àÊÅØ:",$.origin);return}$.data&&$.data.type==="baidu-auth-code"&&$.data.code&&(console.log("‚úì Êî∂Âà∞ÊéàÊùÉÁ†Å:",$.data.code),window.removeEventListener("message",g),p($.data.code))};window.addEventListener("message",g),console.log("‚úì Â∑≤Ê∑ªÂä† postMessage ÁõëÂê¨Âô®"),window.open(n,"_blank","width=800,height=600")?(console.log("‚úì Â§ñÈÉ®ÊµèËßàÂô®Á™óÂè£ÊâìÂºÄÊàêÂäü"),l.showDialog({title:"ÊéàÊùÉÊèêÁ§∫",message:"ËØ∑Âú®ÊâìÂºÄÁöÑÈ°µÈù¢‰∏≠ÂÆåÊàêÊéàÊùÉÔºåÊéàÊùÉÊàêÂäüÂêé‰ºöËá™Âä®Ëé∑ÂèñÊéàÊùÉ‰ø°ÊÅØ",type:"info"})):(console.error("‚úó Â§ñÈÉ®ÊµèËßàÂô®Á™óÂè£Ë¢´ÈòªÊ≠¢"),window.removeEventListener("message",g),l.showErrorDialog("Á™óÂè£Ë¢´ÈòªÊ≠¢","ËØ∑ÂÖÅËÆ∏ÂºπÂá∫Á™óÂè£"))}}catch(g){console.error("‚úó Ëé∑ÂèñÊéàÊùÉËøáÁ®ãÂºÇÂ∏∏:",g);const x=g;console.error("ÂºÇÂ∏∏ËØ¶ÊÉÖ:",{message:x.message,stack:x.stack,name:x.name}),l.showErrorDialog("ÊâìÂºÄÂ§±Ë¥•","Êó†Ê≥ïÊâìÂºÄÊéàÊùÉÈ°µÈù¢: "+x.message)}console.log("=== Ëé∑ÂèñÊéàÊùÉÂáΩÊï∞ÊâßË°åÂÆåÊàê ===")},p=async r=>{console.log("=== ÂºÄÂßãÈÄöËøáalist APIÂ§ÑÁêÜÊéàÊùÉÁ†Å ==="),console.log("ÊéàÊùÉÁ†Å:",r),C.value=!0;try{console.log("ÂáÜÂ§áË∞ÉÁî®ÂêéÁ´ØAPI: /api/baidu/alist-token");const n=await fetch("/api/baidu/alist-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:r})});if(console.log("ÂêéÁ´ØAPIÂìçÂ∫îÁä∂ÊÄÅ:",n.status,n.statusText),!n.ok){const $=await n.text();throw console.error("‚úó ÂêéÁ´ØAPIËøîÂõûÈîôËØØ:",$),new Error(`HTTP ${n.status}: ${$}`)}const g=await n.text();console.log("ÂêéÁ´ØAPIÂìçÂ∫îÊñáÊú¨:",g);let x;try{x=JSON.parse(g),console.log("ÂêéÁ´ØAPIÂìçÂ∫îÊï∞ÊçÆ:",x)}catch($){throw console.error("‚úó JSONËß£ÊûêÂ§±Ë¥•:",$),console.error("ÂìçÂ∫îÂÜÖÂÆπ:",g),new Error("ÊúçÂä°Âô®ËøîÂõû‰∫ÜÊó†ÊïàÁöÑJSONÊ†ºÂºè")}!x.error&&x.access_token&&x.refresh_token?(console.log("‚úì ÊàêÂäüËé∑Âèñtoken"),console.log("- access_token:",x.access_token?"Â∑≤Ëé∑Âèñ":"Êú™Ëé∑Âèñ"),console.log("- refresh_token:",x.refresh_token?"Â∑≤Ëé∑Âèñ":"Êú™Ëé∑Âèñ"),L.value=x.access_token,A.value=x.refresh_token,console.log("ÂºÄÂßãËá™Âä®È™åËØÅÂπ∂ËøûÊé•..."),D()):(console.error("‚úó Ëé∑ÂèñTokenÂ§±Ë¥•:",x.error||"ÂìçÂ∫îÊï∞ÊçÆÊ†ºÂºèÈîôËØØ"),l.showErrorDialog("Ëé∑ÂèñTokenÂ§±Ë¥•",x.error||"Êú™Áü•ÈîôËØØ"))}catch(n){console.error("‚úó Ë∞ÉÁî®alist APIÂºÇÂ∏∏:",n);const g=n;console.error("ÂºÇÂ∏∏ËØ¶ÊÉÖ:",{message:g.message,stack:g.stack,name:g.name}),l.showErrorDialog("Ëé∑ÂèñTokenÂ§±Ë¥•","ÁΩëÁªúÈîôËØØÔºåËØ∑ÈáçËØï: "+g.message)}finally{C.value=!1,console.log("=== alist APIÂ§ÑÁêÜÂÆåÊàê ===")}},U=async()=>{if(A.value){C.value=!0;try{const r=await pe.refreshToken(A.value,"hq9yQ9w9kR4YHj1kyYafLygVocobh7Sf","YH2VpZcFJHYNnV6vLfHQXDBhcE7ZChyE");!r.error&&r.access_token?(L.value=r.access_token,r.refresh_token&&(A.value=r.refresh_token),D()):l.showErrorDialog("Ëé∑ÂèñÂ§±Ë¥•",r.error||"Êú™Áü•ÈîôËØØ")}catch{l.showErrorDialog("Ëé∑ÂèñÂ§±Ë¥•","ÁΩëÁªúÈîôËØØÔºåËØ∑ÈáçËØï")}finally{C.value=!1}}},D=async()=>{if(L.value){C.value=!0;try{const r=await pe.verifyToken(L.value);r.error?l.showErrorDialog("È™åËØÅÂ§±Ë¥•",r.message||"Êó†ÊïàÁöÑtoken"):(await F.updateUserConfig({storage:{...v.value,baidupan:{...v.value.baidupan,accessToken:L.value,refreshToken:A.value,userId:String(r.uk),expiration:Date.now()+720*60*60*1e3,rootPath:v.value.baidupan?.rootPath||"",namingStrategy:v.value.baidupan?.namingStrategy||"0"}}}),await F.fetchBaidupanUserInfo(!0),l.showSuccessDialog("ÁôæÂ∫¶ÁΩëÁõòÊéàÊùÉÊàêÂäü"))}catch{l.showErrorDialog("È™åËØÅÂ§±Ë¥•","ÁΩëÁªúÈîôËØØÔºåËØ∑ÈáçËØï")}finally{C.value=!1}}},j=async()=>{await F.updateUserConfig({storage:{...v.value,baidupan:{...v.value.baidupan,accessToken:"",refreshToken:"",userId:"",expiration:0,rootPath:"",namingStrategy:"0"}}}),A.value="",L.value="",await F.fetchBaidupanUserInfo(!0),l.showSuccessDialog("Â∑≤ÂèñÊ∂àÊéàÊùÉ")},M=async()=>{if(!b.value)try{b.value=!0,console.log("üîÑ [ÊâãÂä®ÂêåÊ≠•] ÂºÄÂßã‰ªé‰∫ëÁ´ØÂêåÊ≠•Êï∞ÊçÆ..."),await F.loadBaidupanBooks(),l.showSuccessDialog("ÂêåÊ≠•ÊàêÂäüÔºöÂ∑≤‰ªé‰∫ëÁ´ØÂêåÊ≠•ÊúÄÊñ∞Êï∞ÊçÆ"),console.log("‚úÖ [ÊâãÂä®ÂêåÊ≠•] ÂêåÊ≠•ÂÆåÊàê")}catch(r){console.error("‚ùå [ÊâãÂä®ÂêåÊ≠•] ÂêåÊ≠•Â§±Ë¥•:",r),l.showErrorDialog("ÂêåÊ≠•Â§±Ë¥•","ËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•ÊàñÊéàÊùÉÁä∂ÊÄÅ")}finally{b.value=!1}},q=async r=>{const n=r.target;await F.updateUserConfig({ui:{...F.userConfig.ui,language:n.value}})},u=r=>{const g=r.target.value.trim();if(S&&(clearTimeout(S),S=null),!g){y.value=!1;return}if(g.length<20){y.value=!1;return}y.value=!0,S=window.setTimeout(async()=>{console.log("üîÑ [Ëá™Âä®ËøûÊé•] Ê£ÄÊµãÂà∞ÊúâÊïà TokenÔºåÂºÄÂßãËá™Âä®ËøûÊé•...");try{await U(),console.log("‚úÖ [Ëá™Âä®ËøûÊé•] ËøûÊé•ÊàêÂäü")}catch(x){console.error("‚ùå [Ëá™Âä®ËøûÊé•] ËøûÊé•Â§±Ë¥•:",x)}finally{y.value=!1}},500)},c=async()=>{console.log("=== ÂºÄÂßã Qwen Device Code Flow ÊéàÊùÉ ==="),R.value=!0,N.value="";try{const r=await yt();O.value=r.session_id,I.value=r.user_code,console.log("Device Code Flow ÂêØÂä®ÊàêÂäü"),console.log("User Code:",r.user_code),console.log("Auth URL:",r.auth_url),console.log("Session ID:",r.session_id);const n=qe();n==="tauri"||n==="electron"?(console.log(`‚úì ${n} ÁéØÂ¢ÉÔºå‰ΩøÁî®Á≥ªÁªüÊµèËßàÂô®ÊâìÂºÄÊéàÊùÉÈ°µÈù¢`),await pe.openExternal(r.auth_url)):window.open(r.auth_url,"_blank","width=800,height=600"),l.showDialog({title:"Qwen ÊéàÊùÉ - Ê≠•È™§ËØ¥Êòé",message:`üìã ËØ∑Êåâ‰ª•‰∏ãÊ≠•È™§ÂÆåÊàêÊéàÊùÉÔºö

1Ô∏è‚É£ Âú®ÊâìÂºÄÁöÑÊµèËßàÂô®È°µÈù¢‰∏≠ËæìÂÖ•Áî®Êà∑Á†ÅÔºö
   ${r.user_code}

2Ô∏è‚É£ ÁÇπÂáª"Á°ÆËÆ§"ÂÆåÊàêÊéàÊùÉ

3Ô∏è‚É£ ÁúãÂà∞"ËÆ§ËØÅÊàêÂäü"ÂêéÔºåÂèØ‰ª•ÂÖ≥Èó≠ÊµèËßàÂô®Á™óÂè£

‚è≥ Â∫îÁî®Â∞ÜËá™Âä®Ëé∑Âèñ tokenÔºåËØ∑Á®çÂÄô...`,type:"info"}),k(r.session_id,r.interval)}catch(r){console.error("‚úó Qwen ÊéàÊùÉÂ§±Ë¥•:",r),l.showErrorDialog("ÊéàÊùÉÂ§±Ë¥•",r.message||"Êú™Áü•ÈîôËØØ"),R.value=!1}},k=async(r,n)=>{console.log("=== ÂºÄÂßãËΩÆËØ¢ token ==="),console.log("Session ID:",r),console.log("Interval:",n,"seconds");let g=0;const x=60;let $=n*1e3;const ke=async()=>{g++,console.log(`ËΩÆËØ¢Á¨¨ ${g} Ê¨°...`),g%10===0&&g<x&&console.log(`‚è≥ Â∑≤Á≠âÂæÖ ${g*n} ÁßíÔºåÁªßÁª≠Á≠âÂæÖÊéàÊùÉ...`);try{const E=await ft(r);if(E.status==="pending")if(E.slow_down&&($=$*1.5,console.log("ÊúçÂä°Âô®Ë¶ÅÊ±ÇÂáèÊÖ¢ËΩÆËØ¢ÔºåÊñ∞Èó¥Èöî:",$/1e3,"seconds")),g<x)m.value=window.setTimeout(ke,$);else throw new Error("ÊéàÊùÉË∂ÖÊó∂ÔºåËØ∑ÈáçÊñ∞ÂºÄÂßã");else E.status==="success"&&(console.log("‚úì ÊàêÂäüËé∑Âèñ token"),E.is_mock&&console.warn("‚ö†Ô∏è ‰ΩøÁî®Ê®°Êãü tokenÔºàÁúüÂÆû API ‰∏çÂèØÁî®Ôºâ"),T.value=E.access_token,V.value=E.refresh_token,K.value=E.resource_url||"",localStorage.setItem("qwen_access_token",E.access_token),localStorage.setItem("qwen_refresh_token",E.refresh_token),E.resource_url&&localStorage.setItem("qwen_resource_url",E.resource_url),E.expires_in&&(se.setTokens(E.access_token,E.refresh_token,E.expires_in,E.resource_url),console.log("‚úÖ [Settings] Token ÁÆ°ÁêÜÂô®Â∑≤ÂêØÂä®Ëá™Âä®Âà∑Êñ∞")),R.value=!1,E.is_mock?l.showDialog({title:"Qwen ÊéàÊùÉÊàêÂäüÔºàÊ®°ÊãüÊ®°ÂºèÔºâ",message:`Â∑≤Ëé∑ÂèñÊ®°Êãü token„ÄÇ

Ê≥®ÊÑèÔºöÁî±‰∫é Qwen ÁúüÂÆû API Á´ØÁÇπÊú™Áü•ÔºåÂΩìÂâç‰ΩøÁî®Ê®°ÊãüÊï∞ÊçÆ„ÄÇ

Ë¶Å‰ΩøÁî®ÁúüÂÆû APIÔºåÈúÄË¶ÅËé∑ÂèñÊ≠£Á°ÆÁöÑÁ´ØÁÇπ‰ø°ÊÅØ„ÄÇ`,type:"info"}):l.showDialog({title:"‚úÖ Qwen ÊéàÊùÉÊàêÂäü",message:`üéâ Â∑≤ÊàêÂäüËé∑Âèñ access tokenÔºÅ

üí° ÊèêÁ§∫ÔºöÊÇ®Áé∞Âú®ÂèØ‰ª•ÂÖ≥Èó≠ÊµèËßàÂô®‰∏≠ÁöÑÊéàÊùÉÈ°µÈù¢‰∫Ü„ÄÇ

Â∫îÁî®Â∞ÜËá™Âä®ÊµãËØï API ËøûÊé•...`,type:"success"}),E.is_mock||setTimeout(()=>{P()},1e3))}catch(E){console.error("‚úó ËΩÆËØ¢Â§±Ë¥•:",E),R.value=!1,m.value&&(clearTimeout(m.value),m.value=null),l.showErrorDialog("Ëé∑Âèñ Token Â§±Ë¥•",E.message||"Êú™Áü•ÈîôËØØ")}};m.value=window.setTimeout(ke,$)},P=async()=>{console.log("=== ÊµãËØï Qwen API ==="),Z.value=!0,N.value="";try{const r=["qwen3-coder-plus","qwen3-coder-flash"],n=r[0];console.log("ÂèØÁî®Ê®°ÂûãÔºàÁ°¨ÁºñÁ†ÅÔºâ:",r),console.log("‰ΩøÁî®Ê®°Âûã:",n),console.log("Resource URL:",K.value||"(Êú™ËÆæÁΩÆÔºå‰ΩøÁî®ÈªòËÆ§)");const g=await kt(T.value,"‰Ω†Â•ΩÔºåËØ∑Áî®‰∏ÄÂè•ËØù‰ªãÁªç‰Ω†Ëá™Â∑±„ÄÇ",K.value);console.log("‚úì API ÊµãËØïÊàêÂäü"),console.log("ÂìçÂ∫î:",g.response),console.log("Token ‰ΩøÁî®:",g.usage),N.value=g.response,l.showDialog({title:"API ÊµãËØïÊàêÂäü",message:`Ê®°Âûã: ${n}

Qwen AI ÂìçÂ∫îÔºö

${g.response}

‰ΩøÁî® Token: ${g.usage.total_tokens}`,type:"success"})}catch(r){if(console.error("‚úó API ÊµãËØïÂ§±Ë¥•:",r),r.message?.includes("token")&&V.value){console.log("Â∞ùËØïÂà∑Êñ∞ token...");try{const n=await mt(V.value);T.value=n.access_token,V.value=n.refresh_token,localStorage.setItem("qwen_access_token",n.access_token),localStorage.setItem("qwen_refresh_token",n.refresh_token),await P();return}catch(n){console.error("‚úó Âà∑Êñ∞ token Â§±Ë¥•:",n)}}l.showErrorDialog("API ÊµãËØïÂ§±Ë¥•",r.message||"Êú™Áü•ÈîôËØØ")}finally{Z.value=!1}},de=()=>{m.value&&(clearTimeout(m.value),m.value=null),T.value="",V.value="",K.value="",N.value="",O.value="",I.value="",localStorage.removeItem("qwen_access_token"),localStorage.removeItem("qwen_refresh_token"),localStorage.removeItem("qwen_resource_url"),se.clearTokens(),console.log("‚úÖ [Settings] Token ÁÆ°ÁêÜÂô®Â∑≤Ê∏ÖÈô§"),l.showSuccessDialog("Â∑≤ÂèñÊ∂à Qwen ÊéàÊùÉ")};return(r,n)=>(a(),i("div",bs,[n[13]||(n[13]=e("div",{class:"settings-header"},[e("h2",{class:"settings-title"},"ËÆæÁΩÆ")],-1)),e("div",Cs,[e("section",Ms,[n[4]||(n[4]=e("h3",{class:"section-title"},"ÁôæÂ∫¶ÁΩëÁõò",-1)),e("div",xs,[e("div",$s,[e("div",Ts,[n[3]||(n[3]=e("span",{class:"setting-label"},"ÊéàÊùÉÁä∂ÊÄÅ",-1)),W.baidupanUser?(a(),i("span",zs,"Â∑≤ËøûÊé•Ôºö"+_(W.baidupanUser.baidu_name),1)):(a(),i("span",As,'ÁÇπÂáª"Ëé∑ÂèñÊéàÊùÉ"ÊåâÈíÆÊâìÂºÄÊéàÊùÉÈ°µÈù¢Ëé∑ÂèñÂØÜÈí•‰ø°ÊÅØ'))]),e("div",Ds,[W.baidupanUser?(a(),i("span",Ss,"Â∑≤ÊéàÊùÉ")):(a(),i("span",Es,"Êú™ÊéàÊùÉ"))])]),W.baidupanUser?(a(),i("div",Ls,[e("div",Vs,[e("button",{class:"btn btn-primary",style:{width:"100%","margin-bottom":"12px"},onClick:M,disabled:b.value},[w(os,{size:16,class:H({spinning:b.value})},null,8,["class"]),re(" "+_(b.value?"ÂêåÊ≠•‰∏≠...":"‰ªé‰∫ëÁ´ØÂêåÊ≠•Êï∞ÊçÆ"),1)],8,Ps),e("button",{class:"btn btn-danger",style:{width:"100%"},onClick:j}," ÂèñÊ∂àÊéàÊùÉ ")])])):(a(),i("div",Bs,[e("div",qs,[e("button",{class:"btn btn-secondary",style:{width:"100%","margin-bottom":"12px"},onClick:B}," Ëé∑ÂèñÊéàÊùÉ "),ne(e("input",{type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=g=>A.value=g),placeholder:"Refresh TokenÔºàÊéàÊùÉÂêéËá™Âä®Â°´ÂÖ•ÊàñÊâãÂä®Á≤òË¥¥Ôºâ",style:{width:"100%","margin-bottom":"12px"},onInput:u},null,544),[[le,A.value]]),y.value?(a(),i("p",Is," Ê£ÄÊµãÂà∞ TokenÔºåÊ≠£Âú®Ëá™Âä®ËøûÊé•... ")):z("",!0)])]))])]),e("section",Us,[n[8]||(n[8]=e("h3",{class:"section-title"},"Qwen AI",-1)),e("div",Hs,[e("div",Rs,[e("div",js,[n[5]||(n[5]=e("span",{class:"setting-label"},"ÊéàÊùÉÁä∂ÊÄÅ",-1)),T.value?(a(),i("span",Fs,"Â∑≤ÊéàÊùÉÔºåÂèØ‰ª•‰ΩøÁî® Qwen AI ÂäüËÉΩ")):(a(),i("span",Qs,'ÁÇπÂáª"Ëé∑ÂèñÊéàÊùÉ"ÊåâÈíÆÂÆåÊàê OAuth ÊéàÊùÉ'))]),e("div",Ks,[T.value?(a(),i("span",Ns,"Â∑≤ÊéàÊùÉ")):(a(),i("span",Ws,"Êú™ÊéàÊùÉ"))])]),T.value?(a(),i("div",Js,[e("div",Gs,[e("button",{class:"btn btn-secondary",style:{width:"100%","margin-bottom":"12px"},onClick:P,disabled:Z.value},_(Z.value?"ÊµãËØï‰∏≠...":"ÊµãËØï Qwen API"),9,eo),e("button",{class:"btn btn-danger",style:{width:"100%"},onClick:de}," ÂèñÊ∂àÊéàÊùÉ ")])])):(a(),i("div",Os,[e("div",Ys,[e("button",{class:"btn btn-primary",style:{width:"100%","margin-bottom":"12px"},onClick:c,disabled:R.value},_(R.value?"ÊéàÊùÉ‰∏≠...":"Ëé∑Âèñ Qwen ÊéàÊùÉ"),9,Xs),n[6]||(n[6]=e("p",{style:{"font-size":"12px",color:"#999",margin:"0"}}," ‰ΩøÁî® Device Code Flow ÊéàÊùÉÔºàRFC 8628Ôºâ ",-1)),I.value?(a(),i("p",Zs," Áî®Êà∑Á†Å: "+_(I.value),1)):z("",!0)])])),N.value?(a(),i("div",to,[e("div",so,[e("div",oo,[n[7]||(n[7]=e("div",{class:"test-result-header"},[e("span",{class:"test-result-label"},"ÊµãËØïÁªìÊûú"),e("span",{class:"test-result-badge success"},"ÊàêÂäü")],-1)),e("div",ao,_(N.value),1)])])])):z("",!0)])]),e("section",no,[n[12]||(n[12]=e("h3",{class:"section-title"},"Â§ñËßÇ",-1)),e("div",lo,[e("div",io,[e("div",ro,[n[9]||(n[9]=e("span",{class:"setting-label"},"ËßÜÂõæÊ®°Âºè",-1)),e("span",co,_(W.viewMode==="grid"?"ÁΩëÊ†º":"ÂàóË°®"),1)]),e("div",uo,[e("div",ho,[e("button",{class:H(["toggle-btn",{active:W.viewMode==="grid"}]),onClick:n[1]||(n[1]=g=>r.$emit("updateViewMode","grid"))},"ÁΩëÊ†º",2),e("button",{class:H(["toggle-btn",{active:W.viewMode==="list"}]),onClick:n[2]||(n[2]=g=>r.$emit("updateViewMode","list"))},"ÂàóË°®",2)])])]),e("div",vo,[e("div",go,[n[10]||(n[10]=e("span",{class:"setting-label"},"ËØ≠Ë®Ä",-1)),e("span",po,_(te(F).userConfig.ui.language==="zh-CN"?"ÁÆÄ‰Ωì‰∏≠Êñá":"English"),1)]),e("div",yo,[e("select",{class:"form-control",value:te(F).userConfig.ui.language,onChange:q},[...n[11]||(n[11]=[e("option",{value:"zh-CN"},"ÁÆÄ‰Ωì‰∏≠Êñá",-1),e("option",{value:"en-US"},"English",-1)])],40,ko)])])])])])]))}}),fo=be(mo,[["__scopeId","data-v-3f71dc73"]]),wo={class:"chat-window"},_o={class:"chat-sidebar"},bo={class:"conversations-list"},Co=["onClick"],Mo={class:"conversation-info"},xo={class:"conversation-title"},$o={class:"conversation-preview"},To=["onClick"],zo={class:"chat-main"},Ao={class:"chat-header"},Do={class:"chat-header-left"},So={class:"chat-title"},Eo={key:0,class:"chat-empty"},Bo={class:"quick-actions"},qo={class:"message-avatar"},Io={class:"message-content"},Lo={class:"message-text"},Vo={class:"message-time"},Po={key:1,class:"message assistant"},Uo={class:"chat-input-container"},Ho=["onKeydown"],Ro=["disabled"],jo={key:0,class:"chat-footer"},Fo=_e({__name:"index",props:{visible:{type:Boolean},bookContext:{},bookTitle:{}},emits:["update:visible","navigate-to-settings"],setup(W,{emit:F}){const l=W,v=F,A=h(),L=h(),C=h(""),y=h(!1),b=h([]),S=h(""),T=X({get:()=>l.visible,set:u=>v("update:visible",u)}),V=X(()=>b.value.find(u=>u.id===S.value)),K=X(()=>V.value?.messages||[]),R=X(()=>!!se.getAccessToken()&&!se.isTokenExpired()),Z=()=>{const u=localStorage.getItem("qwen_conversations");if(u)try{b.value=JSON.parse(u),b.value.forEach(c=>{c.isLoading=!1})}catch(c){console.error("Âä†ËΩΩÂØπËØùÂéÜÂè≤Â§±Ë¥•:",c)}b.value.length===0?O():S.value=b.value[0].id},N=()=>{localStorage.setItem("qwen_conversations",JSON.stringify(b.value))},O=()=>{const u={id:Date.now().toString(),title:`ÂØπËØù ${b.value.length+1}`,messages:[],lastMessage:"ÂºÄÂßãÊñ∞ÂØπËØù...",createdAt:Date.now(),updatedAt:Date.now(),isLoading:!1};b.value.unshift(u),S.value=u.id,N()},I=u=>{S.value=u},m=u=>{const c=b.value.findIndex(k=>k.id===u);c!==-1&&(b.value.splice(c,1),S.value===u&&(b.value.length>0?S.value=b.value[0].id:O()),N())},B=()=>{const u=V.value;if(u){if(u.updatedAt=Date.now(),u.messages.length>0){const c=u.messages[u.messages.length-1];if(u.lastMessage=c.content.substring(0,50)+(c.content.length>50?"...":""),u.title.startsWith("ÂØπËØù")){const k=u.messages.find(P=>P.role==="user");k&&(u.title=k.content.substring(0,20)+(k.content.length>20?"...":""))}}N()}},p=()=>{T.value=!1},U=()=>{p(),v("navigate-to-settings")},D=u=>{const c=new Date(u),k=new Date,P=k.getTime()-c.getTime();return P<6e4?"ÂàöÂàö":P<36e5?`${Math.floor(P/6e4)} ÂàÜÈíüÂâç`:c.toDateString()===k.toDateString()?c.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}):c.toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})},j=()=>{ce(()=>{A.value&&(A.value.scrollTop=A.value.scrollHeight)})},M=u=>{C.value=u,q()},q=async()=>{if(!C.value.trim()||!R.value)return;const u=V.value;if(!u)return;if(u.isLoading===!0){console.log("üö´ ÂΩìÂâçÂØπËØùÊ≠£Âú®Â§ÑÁêÜ‰∏≠ÔºåËØ∑Á®çÂÄô...");return}const c=C.value.trim();C.value="",u.messages.push({role:"user",content:c,timestamp:Date.now()}),B(),j(),u.isLoading=!0,y.value=!0;const k=u.messages.length;u.messages.push({role:"assistant",content:"",timestamp:Date.now()});try{const P=se.getAccessToken()||"",de=se.getResourceUrl()||"";let r=c;l.bookContext&&l.bookTitle&&(r=`‰Ω†ÊòØ‰∏Ä‰∏™ÈòÖËØªÂä©ÊâãÔºåÊ≠£Âú®Â∏ÆÂä©Áî®Êà∑ÁêÜËß£„Ää${l.bookTitle}„ÄãËøôÊú¨‰π¶„ÄÇ

‰π¶Á±ç‰ø°ÊÅØÔºö
${l.bookContext}

Áî®Êà∑ÈóÆÈ¢òÔºö${r}

ËØ∑Âü∫‰∫é‰π¶Á±çÂÜÖÂÆπÂõûÁ≠îÁî®Êà∑ÁöÑÈóÆÈ¢ò„ÄÇ`,console.log("üìñ [ChatWindow] ‰ΩøÁî®‰π¶Á±ç‰∏ä‰∏ãÊñáÔºå‰π¶Âêç:",l.bookTitle)),console.log("üì§ ÂèëÈÄÅÊ∂àÊÅØÂà∞ Qwen API",{messageLength:r.length}),await wt(P,r,de,void 0,n=>{u.messages[k].content+=n,j()}),B(),j()}catch(P){console.error("ÂèëÈÄÅÊ∂àÊÅØÂ§±Ë¥•:",P),u.messages[k].content=`Êä±Ê≠âÔºåÂèëÁîü‰∫ÜÈîôËØØÔºö${P.message||"Êú™Áü•ÈîôËØØ"}`,B(),j()}finally{u.isLoading=!1,y.value=!1}};return we(T,u=>{u&&(Z(),ce(()=>{L.value?.focus(),j()}))}),(u,c)=>(a(),oe(Fe,{to:"body"},[w(ut,{name:"chat-window"},{default:ht(()=>[T.value?(a(),i("div",{key:0,class:"chat-window-overlay",onClick:Y(p,["self"])},[e("div",wo,[e("div",_o,[e("div",{class:"sidebar-header"},[c[6]||(c[6]=e("h3",null,"ÂØπËØùÂéÜÂè≤",-1)),e("button",{class:"new-chat-btn",onClick:O,title:"Êñ∞Âª∫ÂØπËØù"},[...c[5]||(c[5]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})],-1)])])]),e("div",bo,[(a(!0),i(ee,null,ae(b.value,k=>(a(),i("div",{key:k.id,class:H(["conversation-item",{active:S.value===k.id}]),onClick:P=>I(k.id)},[e("div",Mo,[e("div",xo,_(k.title),1),e("div",$o,_(k.lastMessage),1)]),e("button",{class:"delete-conversation-btn",onClick:Y(P=>m(k.id),["stop"]),title:"Âà†Èô§ÂØπËØù"},[...c[7]||(c[7]=[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1)])],8,To)],10,Co))),128))])]),e("div",zo,[e("div",Ao,[e("div",Do,[c[8]||(c[8]=e("div",{class:"chat-icon"},"ü§ñ",-1)),e("div",So,[e("h3",null,_(V.value?.title||"Qwen AI Âä©Êâã"),1),e("span",{class:H(["chat-status",{online:R.value}])},_(R.value?"Âú®Á∫ø":"Á¶ªÁ∫ø"),3)])]),e("button",{class:"close-btn",onClick:p,title:"ÂÖ≥Èó≠"},[...c[9]||(c[9]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),e("div",{class:"chat-messages",ref_key:"messagesContainer",ref:A},[K.value.length===0?(a(),i("div",Eo,[c[10]||(c[10]=e("div",{class:"empty-icon"},"üí¨",-1)),c[11]||(c[11]=e("p",null,"ÂºÄÂßã‰∏é Qwen AI ÂØπËØùÂêßÔºÅ",-1)),e("div",Bo,[e("button",{onClick:c[0]||(c[0]=k=>M("‰ªãÁªç‰∏Ä‰∏ã‰Ω†Ëá™Â∑±"))},"‰ªãÁªçËá™Â∑±"),e("button",{onClick:c[1]||(c[1]=k=>M("Êé®ËçêÂá†Êú¨Â•Ω‰π¶"))},"Êé®ËçêÂ•Ω‰π¶"),e("button",{onClick:c[2]||(c[2]=k=>M("Â¶Ç‰ΩïÊèêÈ´òÈòÖËØªÊïàÁéáÔºü"))},"ÈòÖËØªÊäÄÂ∑ß")])])):z("",!0),(a(!0),i(ee,null,ae(K.value,(k,P)=>(a(),i("div",{key:P,class:H(["message",k.role])},[e("div",qo,_(k.role==="user"?"üë§":"ü§ñ"),1),e("div",Io,[e("div",Lo,_(k.content),1),e("div",Vo,_(D(k.timestamp)),1)])],2))),128)),y.value?(a(),i("div",Po,[...c[12]||(c[12]=[e("div",{class:"message-avatar"},"ü§ñ",-1),e("div",{class:"message-content"},[e("div",{class:"message-text typing"},[e("span"),e("span"),e("span")])],-1)])])):z("",!0)],512),e("div",Uo,[ne(e("textarea",{"onUpdate:modelValue":c[3]||(c[3]=k=>C.value=k),class:"chat-input",placeholder:"ËæìÂÖ•Ê∂àÊÅØ...",rows:"1",onKeydown:[Te(Y(q,["exact","prevent"]),["enter"]),c[4]||(c[4]=Te(Y(k=>C.value+=`
`,["shift","exact"]),["enter"]))],ref_key:"inputRef",ref:L},null,40,Ho),[[le,C.value]]),e("button",{class:"send-btn",onClick:q,disabled:!C.value.trim()||y.value||!R.value,title:"ÂèëÈÄÅ (Enter)"},[...c[13]||(c[13]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})],-1)])],8,Ro)]),R.value?z("",!0):(a(),i("div",jo,[e("div",{class:"footer-content"},[c[15]||(c[15]=e("span",{class:"warning-icon"},"‚ö†Ô∏è",-1)),c[16]||(c[16]=e("span",{class:"footer-text"},"ËØ∑ÂÖàÂú®ËÆæÁΩÆ‰∏≠ÂÆåÊàê Qwen AI ÊéàÊùÉ",-1)),e("button",{class:"link-btn",onClick:U},[...c[14]||(c[14]=[re(" ÂâçÂæÄËÆæÁΩÆ ",-1),e("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e("polyline",{points:"12 5 19 12 12 19"})],-1)])])])]))])])])):z("",!0)]),_:1})]))}}),Qo=be(Fo,[["__scopeId","data-v-62ee0899"]]),Ko=["onMouseenter","onClick"],No={class:"menu-item-content"},Wo={key:0,class:"menu-item-icon"},Oo={class:"menu-item-label"},Yo={key:1,class:"menu-item-arrow"},Xo=["onMouseenter","onClick"],Zo={class:"menu-item-content"},Jo={key:0,class:"menu-item-icon"},Go={class:"menu-item-label"},ea={key:1,class:"menu-item-arrow"},ta=["onClick"],sa={class:"menu-item-content"},oa={key:0,class:"menu-item-icon"},aa={class:"menu-item-label"},na=_e({__name:"index",props:{visible:{type:Boolean},x:{},y:{},items:{}},emits:["close"],setup(W,{emit:F}){const l=W,v=F,A=h(null),L=h(null),C=h(null),y=h(null),b=h(null),S=h({x:0,y:0}),T=h({x:0,y:0}),V=X(()=>{if(!l.visible)return{};let m=l.x,B=l.y;return ce(()=>{if(A.value){const p=A.value.getBoundingClientRect(),U=window.innerWidth,D=window.innerHeight;m+p.width>U&&(m=U-p.width-10),B+p.height>D&&(B=D-p.height-10)}}),{left:`${m}px`,top:`${B}px`}}),K=X(()=>({left:`${S.value.x}px`,top:`${S.value.y}px`})),R=X(()=>({left:`${T.value.x}px`,top:`${T.value.y}px`})),Z=(m,B,p)=>{if(m.disabled||!m.children){y.value=null,b.value=null;return}y.value=m,b.value=null,ce(()=>{const D=p.currentTarget.getBoundingClientRect(),j=A.value?.getBoundingClientRect();if(j){let M=j.right+2,q=D.top;if(L.value){const u=L.value.getBoundingClientRect(),c=window.innerWidth,k=window.innerHeight;M+u.width>c&&(M=j.left-u.width-2),q+u.height>k&&(q=k-u.height-10)}S.value={x:M,y:q}}})},N=(m,B,p)=>{if(m.disabled||!m.children){b.value=null;return}b.value=m,ce(()=>{const D=p.currentTarget.getBoundingClientRect(),j=L.value?.getBoundingClientRect();if(j){let M=j.right+2,q=D.top;if(C.value){const u=C.value.getBoundingClientRect(),c=window.innerWidth,k=window.innerHeight;M+u.width>c&&(M=j.left-u.width-2),q+u.height>k&&(q=k-u.height-10)}T.value={x:M,y:q}}})},O=m=>{m.disabled||m.children||(m.onClick&&m.onClick(),I())},I=()=>{y.value=null,b.value=null,v("close")};return we(()=>l.visible,m=>{m||(y.value=null,b.value=null)}),(m,B)=>(a(),oe(Fe,{to:"body"},[W.visible?(a(),i("div",{key:0,class:"context-menu-overlay",onClick:I,onContextmenu:B[3]||(B[3]=Y(()=>{},["prevent"]))},[e("div",{ref_key:"menuRef",ref:A,class:"context-menu",style:G(V.value),onClick:B[0]||(B[0]=Y(()=>{},["stop"]))},[(a(!0),i(ee,null,ae(W.items,(p,U)=>(a(),i("div",{key:U,class:H(["context-menu-item",{"has-children":p.children,disabled:p.disabled,danger:p.danger,divided:p.divided}]),onMouseenter:D=>Z(p,U,D),onClick:D=>O(p)},[e("div",No,[p.icon?(a(),i("span",Wo,[(a(),oe(ye(p.icon),{size:16}))])):z("",!0),e("span",Oo,_(p.label),1),p.children?(a(),i("span",Yo,[w(te(Le),{size:14})])):z("",!0)])],42,Ko))),128))],4),y.value?(a(),i("div",{key:0,ref_key:"submenuRef",ref:L,class:"context-menu context-submenu",style:G(K.value),onClick:B[1]||(B[1]=Y(()=>{},["stop"]))},[(a(!0),i(ee,null,ae(y.value.children,(p,U)=>(a(),i("div",{key:U,class:H(["context-menu-item",{"has-children":p.children,disabled:p.disabled,danger:p.danger,divided:p.divided}]),onMouseenter:D=>N(p,U,D),onClick:D=>O(p)},[e("div",Zo,[p.icon?(a(),i("span",Jo,[(a(),oe(ye(p.icon),{size:16}))])):z("",!0),e("span",Go,_(p.label),1),p.children?(a(),i("span",ea,[w(te(Le),{size:14})])):z("",!0)])],42,Xo))),128))],4)):z("",!0),b.value?(a(),i("div",{key:1,ref_key:"thirdMenuRef",ref:C,class:"context-menu context-submenu",style:G(R.value),onClick:B[2]||(B[2]=Y(()=>{},["stop"]))},[(a(!0),i(ee,null,ae(b.value.children,(p,U)=>(a(),i("div",{key:U,class:H(["context-menu-item",{disabled:p.disabled,danger:p.danger,divided:p.divided}]),onClick:D=>O(p)},[e("div",sa,[p.icon?(a(),i("span",oa,[(a(),oe(ye(p.icon),{size:16}))])):z("",!0),e("span",aa,_(p.label),1)])],10,ta))),128))],4)):z("",!0)],32)):z("",!0)]))}}),la=be(na,[["__scopeId","data-v-906f89ff"]]),ia={class:"home"},ra={class:"main"},ca={class:"content-wrapper"},da={class:"sidebar"},ua={class:"sidebar-fixed-section"},ha={class:"category-icon"},va={class:"category-count"},ga={class:"sidebar-content"},pa={class:"sidebar-section"},ya={class:"category-list"},ka=["onClick","onContextmenu"],ma={class:"category-name"},fa={class:"category-count"},wa={class:"category-icon add-icon"},_a={class:"sidebar-bottom"},ba={class:"sidebar-section"},Ca=["src"],Ma={class:"baidupan-info"},xa={class:"baidupan-name"},$a={class:"baidupan-vip"},Ta={class:"sidebar-section"},za={class:"category-icon"},Aa={class:"content"},Da={key:0,class:"content-header-fixed"},Sa={class:"section-info"},Ea={class:"section-title"},Ba={class:"section-subtitle"},qa={class:"header-controls"},Ia={class:"search-container"},La={class:"search-box"},Va={class:"view-controls"},Pa={key:1,class:"content-scrollable"},Ua={key:0,class:"search-loading"},Ha={key:1,class:"search-results-info"},Ra={class:"search-info-content"},ja={class:"search-info-text"},Fa=["onClick","onContextmenu"],Qa={class:"book-cover-container"},Ka={key:0,class:"book-cover-placeholder"},Na={class:"placeholder-text"},Wa={class:"book-format-badge"},Oa={key:1,class:"book-downloading-overlay"},Ya={key:2,class:"book-uploading-overlay"},Xa={key:3,class:"book-cloud-overlay"},Za={class:"cloud-icon-wrapper"},Ja=["onClick"],Ga={class:"upload-hint-icon-wrapper"},en={class:"book-info"},tn={class:"book-title"},sn={class:"book-author"},on={key:0,class:"book-progress"},an={class:"progress-bar-container"},nn={class:"progress-text"},ln={class:"book-meta"},rn={class:"book-last-read"},cn={key:3,class:"empty-state"},dn={class:"empty-state-content"},un={class:"empty-state-illustration"},hn={class:"illustration-circle search-circle"},vn={class:"empty-state-title"},gn={class:"empty-state-suggestions"},pn={class:"suggestion-title"},yn={class:"empty-state-actions"},kn={class:"empty-state-illustration"},mn={class:"illustration-circle book-circle"},fn={class:"illustration-sparkles"},wn={class:"empty-state-title"},_n={class:"empty-state-description"},bn={class:"floating-action-items"},Cn={class:"dialog-header"},Mn={class:"dialog-body"},xn={class:"category-manage-list"},$n=["onClick"],Tn={class:"category-manage-name"},zn={class:"dialog-footer"},An=["disabled"],Dn={class:"dialog-header"},Sn={class:"dialog-header-content"},En={class:"dialog-icon"},Bn={class:"dialog-body"},qn={class:"form-group"},In={class:"form-label"},Ln={class:"form-hint"},Vn={key:0,class:"char-count"},Pn={key:1,class:"hint-text"},Un={class:"form-group"},Hn={class:"form-label"},Rn={class:"color-options"},jn=["title","onClick"],Fn={class:"color-custom"},Qn={class:"category-preview"},Kn={class:"form-label"},Nn={class:"preview-item"},Wn={class:"preview-name"},On={class:"dialog-footer"},Yn=["disabled"],Xn={class:"dialog-header"},Zn={class:"dialog-body"},Jn={class:"form-group"},Gn={class:"form-group"},el={class:"form-group"},tl=_e({__name:"index",setup(W){const F=gt(),l=Qe(),v=Re(),A=h("grid"),L=h(null),C=h(""),y=h("all"),b=h(!1),S=h(!1),T=h(null),V=h(null),K=h(!1),R=h(0),Z=h(0),N=h([]),O=h(!1),I=h(""),m=h("#4A90E2"),B=h(null),p=[{name:"ËìùËâ≤",value:"#4A90E2"},{name:"Á¥´Ëâ≤",value:"#9B59B6"},{name:"ÁªøËâ≤",value:"#2ECC71"},{name:"Ê©ôËâ≤",value:"#E67E22"},{name:"Á∫¢Ëâ≤",value:"#E74C3C"},{name:"ÈùíËâ≤",value:"#1ABC9C"},{name:"Á≤âËâ≤",value:"#EC407A"},{name:"ÈùõËìù",value:"#5C6BC0"},{name:"ÈªÑËâ≤",value:"#F39C12"},{name:"Ê∑±Ëìù",value:"#34495E"},{name:"ËñÑËç∑Áªø",value:"#16A085"},{name:"ÁèäÁëöÁ∫¢",value:"#FF6B6B"}],U=h(!1),D=h(""),j=h(!1),M=h({appKey:"",secretKey:"",refreshToken:""}),q=h([]),u=h(!1),c=X(()=>l.isBaidupanTokenValid()),k=()=>{j.value=!1},P=async()=>{try{if(await l.updateUserConfig({storage:{...l.userConfig.storage,baidupan:{appKey:M.value.appKey,secretKey:M.value.secretKey,refreshToken:M.value.refreshToken,accessToken:"",expiration:0,rootPath:"",userId:"",namingStrategy:"1"}}},!0),M.value.refreshToken&&M.value.appKey&&M.value.secretKey){const o=await pe.refreshToken(M.value.refreshToken,M.value.appKey,M.value.secretKey);!o.error&&o.access_token&&(await l.updateUserConfig({storage:{...l.userConfig.storage,baidupan:{appKey:M.value.appKey,secretKey:M.value.secretKey,refreshToken:o.refresh_token||M.value.refreshToken,accessToken:o.access_token,expiration:Date.now()+o.expires_in*1e3,rootPath:"",userId:"",namingStrategy:"1"}}},!0),await l.fetchBaidupanUserInfo(!0))}k()}catch(o){console.error("‰øùÂ≠òÁôæÂ∫¶ÁΩëÁõòÊéàÊùÉ‰ø°ÊÅØÂ§±Ë¥•:",o)}},de=async o=>{A.value=o,await l.updateUserConfig({ui:{...l.userConfig.ui,viewMode:o}})},r=X(()=>l.books),n=X(()=>(l.categories||[]).filter(o=>o.name!=="Êú™ÂàÜÁ±ª")),g=X(()=>y.value==="all"?r.value:r.value.filter(o=>o.categoryId===y.value)),x=X(()=>C.value.trim()?q.value:g.value),$=h({categoryBooks:{},categoryNames:{},categoryColors:{}}),ke=async o=>{const t=l.getBookById(o);if(!t){v.showErrorDialog("‰π¶Á±ç‰∏çÂ≠òÂú®","Êó†Ê≥ïÊâæÂà∞ËØ•‰π¶Á±ç");return}if(t.storageType==="baidupan"){try{t.downloading=!0;const s=await l.downloadFromBaidupan(t.baidupanPath||t.path);t.downloading=!1,s?F.push(`/reader/${o}`):v.showErrorDialog("‰∏ãËΩΩÂ§±Ë¥•","ËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•ÊàñÊéàÊùÉÁä∂ÊÄÅ")}catch(s){t.downloading=!1,console.error("‰∏ãËΩΩÂ§±Ë¥•:",s);const f=s instanceof Error?s.message:"‰∏ãËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï";v.showErrorDialog("‰∏ãËΩΩÂ§±Ë¥•",f)}return}F.push(`/reader/${o}`)},E=()=>{L.value&&L.value.click()},Ke=()=>{S.value=!S.value},Ne=()=>{E(),S.value=!1},We=()=>{b.value=!0,S.value=!1},Oe=()=>{he(),E()},Ye=()=>{y.value="settings"},Xe=async o=>{const s=o.target.files?.[0];if(!s)return;const f=s.name.toLowerCase().split(".").pop();if(!["epub","pdf","txt"].includes(f||"")){v.showErrorDialog("‰∏çÊîØÊåÅÁöÑÊñá‰ª∂Ê†ºÂºè","‰ªÖÊîØÊåÅ EPUB„ÄÅPDF Âíå TXT Ê†ºÂºèÁöÑÁîµÂ≠ê‰π¶");return}try{v.showDialog({title:"Ê≠£Âú®ÂØºÂÖ•",message:`Ê≠£Âú®ÂØºÂÖ• ${s.name} ...`,type:"info",buttons:[]}),await l.importEbookFile(s)?v.closeDialog():(v.closeDialog(),v.showErrorDialog("ÂØºÂÖ•Â§±Ë¥•","Êó†Ê≥ïÂØºÂÖ•ÊâÄÈÄâÊñá‰ª∂"))}catch(J){v.closeDialog(),console.error("ÂØºÂÖ•Êñá‰ª∂Â§±Ë¥•:",J),v.showErrorDialog("ÂØºÂÖ•Â§±Ë¥•",J instanceof Error?J.message:String(J))}finally{L.value&&(L.value.value="")}},Ze=o=>pt(o).format("YYYY-MM-DD HH:mm"),Je=(o,t)=>{o.preventDefault(),T.value=t;const s=n.value.length>0?n.value.map(J=>({label:J.name,icon:Me(J.name),onClick:()=>Ge(J.id)})):[{label:"ÊöÇÊó†ÂàÜÁ±ª",disabled:!0}];s.push({label:"Êñ∞Âª∫ÂàÜÁ±ª",icon:ge,onClick:et,divided:!0});const f=[{label:"ÁßªÂä®Âà∞ÂàÜÁ±ª",icon:$e,children:s}];t.storageType==="local"&&f.push({label:"‰∏ä‰º†Âà∞ÁôæÂ∫¶ÁΩëÁõò",icon:Ve,onClick:()=>ze(t),divided:!0}),f.push({label:"Âà†Èô§‰π¶Á±ç",icon:He,onClick:()=>nt(t),danger:!0,divided:!0}),R.value=o.clientX,Z.value=o.clientY,N.value=f,K.value=!0},Ge=async o=>{if(!T.value)return;const t=T.value;try{await l.addBookToCategory(t.id,o)?console.log("‰π¶Á±çÂ∑≤ÁßªÂä®Âà∞ÂàÜÁ±ª:",Ce(o)):v.showErrorDialog("ÂàÜÁ±ªÊõ¥Êñ∞Â§±Ë¥•","Êó†Ê≥ïÊâæÂà∞ÊåáÂÆö‰π¶Á±çÊàñÂàÜÁ±ª")}catch(s){console.error("ÁßªÂä®‰π¶Á±çÂà∞ÂàÜÁ±ªÂ§±Ë¥•:",s),v.showErrorDialog("ÂàÜÁ±ªÊõ¥Êñ∞Â§±Ë¥•",s instanceof Error?s.message:String(s))}finally{T.value=null}},et=()=>{Ae()},tt=()=>{K.value=!1,T.value=null,V.value=null},st=(o,t)=>{o.preventDefault(),V.value=t;const s=t.name!=="Êú™ÂàÜÁ±ª",f=[{label:"ÈáçÂëΩÂêçÂàÜÁ±ª",icon:vs,onClick:()=>ot(t)}];s&&f.push({label:"Âà†Èô§ÂàÜÁ±ª",icon:He,onClick:()=>at(t),danger:!0,divided:!0}),R.value=o.clientX,Z.value=o.clientY,N.value=f,K.value=!0},ot=o=>{console.log("ÈáçÂëΩÂêçÂàÜÁ±ª:",o.name)},at=async o=>{try{const t=xe(o.id).length,s=t>0?`ËØ•ÂàÜÁ±ª‰∏ãÊúâ ${t} Êú¨‰π¶Á±çÔºåÂà†Èô§ÂêéÂ∞ÜÁßªÂä®Âà∞"Êú™ÂàÜÁ±ª"„ÄÇ`:"Á°ÆÂÆöË¶ÅÂà†Èô§Ê≠§ÂàÜÁ±ªÂêóÔºü";v.showDialog({title:"Âà†Èô§ÂàÜÁ±ª",message:`Á°ÆÂÆöË¶ÅÂà†Èô§ÂàÜÁ±ª"${o.name}"ÂêóÔºü
${s}`,type:"warning",buttons:[{text:"ÂèñÊ∂à",callback:()=>{v.closeDialog(),V.value=null}},{text:"Âà†Èô§",primary:!0,callback:async()=>{v.closeDialog(),await l.deleteCategory(o.id)?y.value===o.id&&(y.value="all"):v.showErrorDialog("Âà†Èô§Â§±Ë¥•","Êó†Ê≥ïÂà†Èô§ËØ•ÂàÜÁ±ª"),V.value=null}}]})}catch(t){console.error("Âà†Èô§ÂàÜÁ±ªÂ§±Ë¥•:",t),v.showErrorDialog("Âà†Èô§Â§±Ë¥•",t instanceof Error?t.message:String(t)),V.value=null}},ze=async o=>{o&&(await rt(o),T.value=null)},nt=o=>{if(!o)return;const t=o.id,s=o.title,f=o.storageType;f==="baidupan"||f==="synced"?v.showDialog({title:"Âà†Èô§‰π¶Á±ç",message:`„Ää${s}„ÄãÊòØ‰∫ëÁ´Ø‰π¶Á±çÔºåËØ∑ÈÄâÊã©Âà†Èô§ÊñπÂºèÔºö`,type:"warning",buttons:[{text:"ÂèñÊ∂à"},{text:"‰ªÖÂà†Èô§Êú¨Âú∞",callback:async()=>{try{await l.removeBook(t,f,!1)?v.showSuccessDialog("Êú¨Âú∞ËÆ∞ÂΩïÂ∑≤Âà†Èô§Ôºå‰∫ëÁ´ØÊñá‰ª∂‰øùÁïô"):v.showErrorDialog("Âà†Èô§Â§±Ë¥•","Êó†Ê≥ïÂà†Èô§ÊåáÂÆö‰π¶Á±ç")}catch(Q){console.error("Âà†Èô§ËøáÁ®ãÊä•Èîô:",Q),v.showErrorDialog("Âà†Èô§Â§±Ë¥•",Q instanceof Error?Q.message:String(Q))}}},{text:"Âà†Èô§Êú¨Âú∞Âíå‰∫ëÁ´Ø",primary:!0,callback:async()=>{try{await l.removeBook(t,f,!0)?v.showSuccessDialog("‰π¶Á±çÂà†Èô§ÊàêÂäüÔºöÊú¨Âú∞Âíå‰∫ëÁ´ØÊñá‰ª∂Â∑≤Âà†Èô§"):v.showErrorDialog("Âà†Èô§Â§±Ë¥•","Êó†Ê≥ïÂà†Èô§ÊåáÂÆö‰π¶Á±ç")}catch(Q){console.error("Âà†Èô§ËøáÁ®ãÊä•Èîô:",Q),v.showErrorDialog("Âà†Èô§Â§±Ë¥•",Q instanceof Error?Q.message:String(Q))}}}]}):v.showDialog({title:"Á°ÆËÆ§Âà†Èô§",message:`Á°ÆÂÆöË¶ÅÂà†Èô§„Ää${s}„ÄãÂêóÔºü`,type:"warning",buttons:[{text:"ÂèñÊ∂à"},{text:"Âà†Èô§",primary:!0,callback:async()=>{try{await l.removeBook(t,f)?v.showSuccessDialog("‰π¶Á±çÂà†Èô§ÊàêÂäü"):v.showErrorDialog("Âà†Èô§Â§±Ë¥•","Êó†Ê≥ïÂà†Èô§ÊåáÂÆö‰π¶Á±ç")}catch(Q){console.error("Âà†Èô§ËøáÁ®ãÊä•Èîô:",Q),v.showErrorDialog("Âà†Èô§Â§±Ë¥•",Q instanceof Error?Q.message:String(Q))}}}]}),T.value=null},lt=async()=>{if(!T.value||!D.value){console.error("selectedBook Êàñ selectedCategoryId ‰∏∫ nullÔºåÊó†Ê≥ïÁßªÂä®‰π¶Á±ç");return}const o=T.value,t=D.value;console.log("ÁßªÂä®‰π¶Á±çÂà∞ÂàÜÁ±ª:",o.title,"->",t),console.log("selectedBook:",T.value);try{console.log("Ë∞ÉÁî® ebookStore.addBookToCategory");const s=await l.addBookToCategory(o.id,t);console.log("addBookToCategory ËøîÂõûÁªìÊûú:",s),s?(v.showSuccessDialog("‰π¶Á±çÂàÜÁ±ªÊõ¥Êñ∞ÊàêÂäü"),ue(),console.log("‰π¶Á±çÂàÜÁ±ªÊõ¥Êñ∞ÊàêÂäüÔºåÂØπËØùÊ°ÜÂ∑≤ÂÖ≥Èó≠")):(v.showErrorDialog("ÂàÜÁ±ªÊõ¥Êñ∞Â§±Ë¥•","Êó†Ê≥ïÊâæÂà∞ÊåáÂÆö‰π¶Á±çÊàñÂàÜÁ±ª"),console.log("‰π¶Á±çÂàÜÁ±ªÊõ¥Êñ∞Â§±Ë¥•ÔºåÂØπËØùÊ°ÜÂ∑≤ÂÖ≥Èó≠"))}catch(s){console.error("ÁßªÂä®‰π¶Á±çÂà∞ÂàÜÁ±ªÂ§±Ë¥•:",s),v.showErrorDialog("ÂàÜÁ±ªÊõ¥Êñ∞Â§±Ë¥•",s instanceof Error?s.message:String(s)),ue()}},Ae=()=>{O.value=!0,I.value="",m.value="#4A90E2",ce(()=>{B.value?.focus()})},me=()=>{O.value=!1,I.value="",m.value="#4A90E2"},ue=()=>{U.value=!1,D.value="",T.value=null},De=async()=>{if(I.value.trim()){console.log("ÂºÄÂßãÂàõÂª∫ÂàÜÁ±ªÔºåÂêçÁß∞:",I.value.trim(),"È¢úËâ≤:",m.value);try{const o=await l.addCategory(I.value.trim(),m.value);console.log("ÂàÜÁ±ªÂàõÂª∫ÊàêÂäüÔºåËøîÂõûÁªìÊûú:",o),await new Promise(t=>setTimeout(t,100)),console.log("ÂΩìÂâçÂàÜÁ±ªÂàóË°®:",l.categories),console.log("ÂàÜÁ±ªÊï∞Èáè:",l.categories.length),me()}catch(o){console.error("Ê∑ªÂä†ÂàÜÁ±ªÂ§±Ë¥•:",o),v.showErrorDialog("ÂàÜÁ±ªÂàõÂª∫Â§±Ë¥•",o instanceof Error?o.message:String(o))}}},it=async()=>{if(!C.value.trim()){he();return}u.value=!0;try{const o=await l.searchBooks(C.value.trim());y.value==="all"?q.value=o:q.value=o.filter(t=>t.categoryId===y.value)}catch(o){console.error("ÊêúÁ¥¢Â§±Ë¥•:",o),v.showErrorDialog("ÊêúÁ¥¢Â§±Ë¥•",o instanceof Error?o.message:String(o)),q.value=[]}finally{u.value=!1}},he=()=>{C.value="",q.value=[]},rt=async o=>{if(!c.value){v.showErrorDialog("Êú™ÊéàÊùÉ","ËØ∑ÂÖàÊéàÊùÉÁôæÂ∫¶ÁΩëÁõò");return}try{console.log("uploadToBaidupan - ÂºÄÂßã‰∏ä‰º†ÔºåÂΩìÂâçÁä∂ÊÄÅ:",{id:o.id,title:o.title,storageType:o.storageType,uploading:o.uploading}),o.uploadProgress=0,o.uploading=!0;const t=await l.uploadLocalBookToBaidupan(o);if(console.log("uploadToBaidupan - ‰∏ä‰º†ÁªìÊûú:",t),t){console.log("uploadToBaidupan - ‰∏ä‰º†ÊàêÂäüÔºåÁ≠âÂæÖÁä∂ÊÄÅÂêåÊ≠•");let s=0,f=null;for(;s<5;){if(await new Promise(J=>setTimeout(J,100)),f=l.getBookById(o.id),console.log(`uploadToBaidupan - Â∞ùËØï ${s+1}ÔºåËé∑ÂèñÂà∞ÁöÑ‰π¶Á±çÁä∂ÊÄÅ:`,{storageType:f?.storageType,uploading:f?.uploading,baidupanPath:f?.baidupanPath}),f&&f.storageType==="synced"){console.log("uploadToBaidupan - Áä∂ÊÄÅÂ∑≤ÂêåÊ≠•‰∏∫ synced");break}s++}f&&(console.log("uploadToBaidupan - Âº∫Âà∂Êõ¥Êñ∞Êú¨Âú∞ book ÂØπË±°"),Object.assign(o,f),f.cover&&(o.cover=f.cover),o.uploading=!1,console.log("uploadToBaidupan - ÊúÄÁªàÁä∂ÊÄÅ:",{id:o.id,storageType:o.storageType,uploading:o.uploading,baidupanPath:o.baidupanPath}))}else o.uploading=!1,v.showErrorDialog("‰∏ä‰º†Â§±Ë¥•","ËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•ÊàñÊéàÊùÉÁä∂ÊÄÅ")}catch(t){o.uploading=!1,console.error("‰∏ä‰º†Â§±Ë¥•:",t);const s=t instanceof Error?t.message:"‰∏ä‰º†Â§±Ë¥•ÔºåËØ∑ÈáçËØï";v.showErrorDialog("‰∏ä‰º†Â§±Ë¥•",s)}},Ce=o=>{if($.value.categoryNames[o])return $.value.categoryNames[o];const t=l.categories.find(f=>f.id===o),s=t?t.name:"Êú™ÂàÜÁ±ª";return $.value.categoryNames[o]=s,s},Se=o=>{if($.value.categoryColors[o])return $.value.categoryColors[o];const t=l.categories.find(f=>f.id===o),s=t?t.color:"#4A90E2";return $.value.categoryColors[o]=s,s},Me=o=>({ÊäÄÊúØ:qt,Â∞èËØ¥:Ie,ÂéÜÂè≤:is,Âì≤Â≠¶:Mt,ÁßëÂ≠¶:Ut,Ëâ∫ÊúØ:Pe,ÂÅ•Â∫∑:Kt,ÁªèÊµé:bt,ÂÜõ‰∫ã:us,ÂøÉÁêÜ:Ct,ÊïôËÇ≤:Qt,ËÆ°ÁÆóÊú∫:Ot,ÁºñÁ®ã:Bt,ÂåªÂ≠¶:ps,ÁÉπÈ•™:Dt,ÊóÖË°å:ss,‰ΩìËÇ≤:ks,Èü≥‰πê:es,ÁîµÂΩ±:Vt,ÊëÑÂΩ±:Tt,ËÆæËÆ°:ts,ÂïÜ‰∏ö:xt,ÈáëËûç:At,Ê≥ïÂæã:ls,ÊîøÊ≤ª:Wt,ÂÆóÊïô:St,ÊñáÂ≠¶:Lt,‰º†ËÆ∞:_t,ÁßëÂπª:as,Â•áÂπª:ws,ÊÇ¨Áñë:Ue,Áà±ÊÉÖ:Nt,ÊÅêÊÄñ:jt,ÂÑøÁ´•:hs,ÈùíÊò•:Ht,ËÅåÂú∫:fs,Âä±Âøó:fe,ÁªèÂÖ∏:gs,Áé∞‰ª£:$t,Âè§‰ª£:zt,Â§ñÂõΩ:Ft,‰∏≠ÂõΩ:Pt})[o]||$e,ct=o=>Me(o),xe=o=>{if($.value.categoryBooks[o])return $.value.categoryBooks[o];const t=l.books.filter(s=>s.categoryId===o);return $.value.categoryBooks[o]=t,t};we([()=>r.value.length,()=>n.value.length,()=>r.value.map(o=>o.categoryId||"").join(",")],()=>{$.value={categoryBooks:{},categoryNames:{},categoryColors:{}}});let ve=null;we(C,async o=>{if(ve&&clearTimeout(ve),!o.trim()){q.value=[],u.value=!1;return}u.value=!0,ve=window.setTimeout(async()=>{await it()},300)},{immediate:!1}),je(async()=>{try{console.log("È¶ñÈ°µÂä†ËΩΩÔºåÂºÄÂßãÂàùÂßãÂåñÁîµÂ≠ê‰π¶Â≠òÂÇ®..."),await l.initialize(),c.value&&!l.baidupanUser&&await l.fetchBaidupanUserInfo(),document.addEventListener("click",Ee)}catch(o){console.error("ÂàùÂßãÂåñÁîµÂ≠ê‰π¶Â≠òÂÇ®Â§±Ë¥•:",o)}}),vt(()=>{document.removeEventListener("click",Ee),ve&&clearTimeout(ve),document.documentElement.classList.remove("theme-dark","theme-sepia","theme-green")});const Ee=o=>{const t=o.target,s=document.querySelector(".floating-action-menu");s&&!s.contains(t)&&S.value&&(S.value=!1)};return(o,t)=>(a(),i("div",ia,[e("main",ra,[e("div",ca,[e("aside",da,[t[21]||(t[21]=e("div",{class:"sidebar-header"},[e("div",{class:"logo"},[e("img",{src:_s,alt:"Logo",class:"logo-icon",style:{width:"48px",height:"48px"}}),e("h1",{class:"logo-text"},"Reader")])],-1)),e("div",ua,[e("button",{class:H(["category-item",{active:y.value==="all"}]),onClick:t[0]||(t[0]=s=>y.value="all")},[e("span",ha,[w(Xt,{size:20})]),t[16]||(t[16]=e("span",{class:"category-name"},"ÂÖ®ÈÉ®‰π¶Á±ç",-1)),e("span",va,_(r.value.length),1)],2)]),e("div",ga,[e("div",pa,[t[18]||(t[18]=e("h3",{class:"sidebar-title"},"ÊàëÁöÑÂàÜÁ±ª",-1)),e("div",ya,[(a(!0),i(ee,null,ae(n.value,s=>(a(),i("div",{key:s.id,class:"category-item-wrapper"},[e("button",{class:H(["category-item",{active:y.value===s.id}]),style:G({"--category-color":s.color}),onClick:f=>y.value=s.id,onContextmenu:Y(f=>st(f,s),["prevent"])},[e("span",{class:"category-icon",style:G({backgroundColor:s.color+"20",color:s.color})},[(a(),oe(ye(Me(s.name)),{size:20}))],4),e("span",ma,_(s.name),1),e("span",fa,_(xe(s.id).length),1)],46,ka)]))),128)),e("button",{class:"category-item add-category",onClick:Ae},[e("span",wa,[w(ge,{size:20})]),t[17]||(t[17]=e("span",{class:"category-name"},"Êñ∞Âª∫ÂàÜÁ±ª",-1))])])])]),e("div",_a,[e("div",ba,[c.value&&te(l).baidupanUser?(a(),i("div",{key:0,class:"baidupan-status",onClick:t[1]||(t[1]=s=>y.value="settings")},[e("img",{src:te(l).baidupanUser.avatar_url,class:"baidupan-avatar",alt:"Â§¥ÂÉè"},null,8,Ca),e("div",Ma,[e("span",xa,_(te(l).baidupanUser.baidu_name),1),e("span",$a,_(te(l).baidupanUser.vip_type===2?"Ë∂ÖÁ∫ß‰ºöÂëò":te(l).baidupanUser.vip_type===1?"ÊôÆÈÄö‰ºöÂëò":"ÊôÆÈÄöÁî®Êà∑"),1)])])):c.value?z("",!0):(a(),i("div",{key:1,class:"baidupan-status unauthorized",onClick:t[2]||(t[2]=s=>y.value="settings")},[w(ms,{size:20}),t[19]||(t[19]=e("span",{class:"baidupan-text"},"Êú™ÊéàÊùÉ",-1))]))]),e("div",Ta,[e("button",{class:H(["category-item settings-button",{active:y.value==="settings"}]),onClick:t[3]||(t[3]=s=>y.value="settings")},[e("span",za,[w(ds,{size:20})]),t[20]||(t[20]=e("span",{class:"category-name"},"ËÆæÁΩÆ",-1))],2)])])]),e("section",Aa,[y.value!=="settings"?(a(),i("div",Da,[e("div",Sa,[e("h2",Ea,_(y.value==="all"?"ÊàëÁöÑ‰π¶Êû∂":Ce(y.value)),1),e("p",Ba,_(y.value==="all"?`ÂÖ± ${r.value.length} Êú¨‰π¶Á±ç`:`ÂÖ± ${xe(y.value).length} Êú¨`),1)]),e("div",qa,[e("div",Ia,[e("div",La,[w(Ue,{size:18,class:"search-icon"}),ne(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=s=>C.value=s),placeholder:"ÊêúÁ¥¢‰π¶Âêç„ÄÅ‰ΩúËÄÖ...",class:"search-input"},null,512),[[le,C.value]]),C.value?(a(),i("button",{key:0,class:"search-clear",onClick:he,title:"Ê∏ÖÈô§ÊêúÁ¥¢"},[w(ie,{size:16})])):z("",!0)])]),e("div",Va,[e("button",{class:H(["view-btn",{active:A.value==="grid"}]),onClick:t[5]||(t[5]=s=>A.value="grid"),title:"ÁΩëÊ†ºËßÜÂõæ"},[w(Yt,{size:16})],2),e("button",{class:H(["view-btn",{active:A.value==="list"}]),onClick:t[6]||(t[6]=s=>A.value="list"),title:"ÂàóË°®ËßÜÂõæ"},[w(Jt,{size:16})],2)])])])):z("",!0),y.value!=="settings"?(a(),i("div",Pa,[u.value?(a(),i("div",Ua,[...t[22]||(t[22]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Ê≠£Âú®ÊêúÁ¥¢...",-1)])])):q.value.length>0&&C.value?(a(),i("div",Ha,[e("div",Ra,[w(rs,{size:24,class:"search-info-icon"}),e("div",ja,[t[23]||(t[23]=e("h3",null,"ÊêúÁ¥¢ÁªìÊûú",-1)),e("p",null,"ÊâæÂà∞ "+_(q.value.length)+" ‰∏™ÁªìÊûúÔºåÂÖ≥ÈîÆËØç: "+_(C.value),1)]),e("button",{class:"clear-search-btn",onClick:he},[w(ie,{size:16})])])])):z("",!0),x.value.length>0?(a(),i("div",{key:2,class:H(A.value==="grid"?"books-grid":"books-list")},[(a(!0),i(ee,null,ae(x.value,s=>(a(),i("div",{key:s.id,class:H(["book-card",{"has-progress":s.readingProgress>0}]),onClick:f=>ke(s.id),onContextmenu:Y(f=>Je(f,s),["prevent"])},[e("div",Qa,[e("div",{class:"book-cover",style:G({backgroundImage:s.cover?`url(${s.cover})`:"none"})},[s.cover?z("",!0):(a(),i("div",Ka,[t[24]||(t[24]=e("span",{class:"placeholder-icon"},"üìö",-1)),e("span",Na,_(s.title.charAt(0)),1)])),e("div",Wa,_(s.format.toUpperCase()),1),s.downloading?(a(),i("div",Oa,[...t[25]||(t[25]=[e("div",{class:"downloading-spinner"},null,-1),e("span",{class:"downloading-text"},"‰∏ãËΩΩ‰∏≠...",-1)])])):s.uploading?(a(),i("div",Ya,[...t[26]||(t[26]=[e("div",{class:"uploading-spinner"},null,-1),e("span",{class:"uploading-text"},"‰∏ä‰º†‰∏≠...",-1)])])):s.storageType==="baidupan"?(a(),i("div",Xa,[e("div",Za,[w(Et,{size:32})]),t[27]||(t[27]=e("span",{class:"cloud-text"},"ÁÇπÂáª‰∏ãËΩΩ",-1))])):s.storageType==="local"&&c.value?(a(),i("div",{key:4,class:"book-upload-hint-overlay",onClick:Y(f=>ze(s),["stop"])},[e("div",Ga,[w(Ve,{size:28})]),t[28]||(t[28]=e("span",{class:"upload-hint-text"},"‰∏ä‰º†Âà∞‰∫ëÁ´Ø",-1))],8,Ja)):z("",!0)],4)]),e("div",en,[e("h3",tn,_(s.title),1),e("p",sn,_(s.author||"Êú™Áü•‰ΩúËÄÖ"),1),s.readingProgress>0?(a(),i("div",on,[e("div",an,[e("div",{class:"progress-bar",style:G({width:`${s.readingProgress}%`})},null,4)]),e("span",nn,_(s.readingProgress)+"%",1)])):z("",!0),e("div",ln,[e("span",rn,_(Ze(s.lastRead)),1),s.categoryId?(a(),i("span",{key:0,class:"book-category",style:G({backgroundColor:Se(s.categoryId)+"20",color:Se(s.categoryId)})},_(Ce(s.categoryId)),5)):z("",!0)])])],42,Fa))),128))],2)):(a(),i("div",cn,[e("div",dn,[C.value?(a(),i(ee,{key:0},[e("div",un,[e("div",hn,[w(cs,{size:32,class:"illustration-icon"})])]),e("h3",vn,'Êú™ÊâæÂà∞ "'+_(C.value)+'"',1),t[33]||(t[33]=e("p",{class:"empty-state-description"}," Ê≤°ÊúâÊâæÂà∞‰∏éÊÇ®ÊêúÁ¥¢ÂÜÖÂÆπÁõ∏ÂÖ≥ÁöÑ‰π¶Á±ç ",-1)),e("div",gn,[e("div",pn,[w(Zt,{size:16}),t[29]||(t[29]=e("span",null,"ÊêúÁ¥¢Âª∫ËÆÆ",-1))]),t[30]||(t[30]=e("ul",{class:"suggestion-list"},[e("li",null,"Ê£ÄÊü•ÂÖ≥ÈîÆËØçÊãºÂÜôÊòØÂê¶Ê≠£Á°Æ"),e("li",null,"Â∞ùËØï‰ΩøÁî®Êõ¥ÁÆÄÁü≠ÊàñÊõ¥ÈÄöÁî®ÁöÑÂÖ≥ÈîÆËØç"),e("li",null,"‰ΩøÁî®‰π¶ÂêçÊàñ‰ΩúËÄÖÂêçËøõË°åÊêúÁ¥¢")],-1))]),e("div",yn,[e("button",{class:"btn btn-secondary btn-action",onClick:he},[w(ns,{size:16}),t[31]||(t[31]=re(" Ê∏ÖÈô§ÊêúÁ¥¢ ",-1))]),e("button",{class:"btn btn-primary btn-action",onClick:Oe},[w(ge,{size:16}),t[32]||(t[32]=re(" Ê∑ªÂä†Êñ∞‰π¶Á±ç ",-1))])])],64)):(a(),i(ee,{key:1},[e("div",kn,[e("div",mn,[w(Ie,{size:38,class:"illustration-icon"})]),e("div",fn,[w(fe,{size:16,class:"sparkle sparkle-1"}),w(fe,{size:12,class:"sparkle sparkle-2"}),w(fe,{size:14,class:"sparkle sparkle-3"})])]),e("h3",wn,_((y.value==="all","ËØ•ÂàÜÁ±ªÊöÇÊó†‰π¶Á±ç")),1),e("p",_n,_((y.value==="all","Â∞Ü‰π¶Á±çÊ∑ªÂä†Âà∞Ê≠§ÂàÜÁ±ªÔºåËÆ©ÊÇ®ÁöÑ‰π¶Êû∂Êõ¥ÊúâÊù°ÁêÜ")),1)],64))])]))])):y.value==="settings"?(a(),oe(fo,{key:2,"baidupan-user":te(l).baidupanUser,"view-mode":A.value,onUpdateViewMode:de},null,8,["baidupan-user","view-mode"])):z("",!0)])])]),y.value!=="settings"?(a(),i("div",{key:0,class:H(["floating-action-menu",{"is-open":S.value}])},[e("div",bn,[e("button",{class:"floating-action-item",onClick:Ne,title:"Ê∑ªÂä†‰π¶Á±ç"},[w(ge,{size:20}),t[34]||(t[34]=e("span",{class:"floating-action-label"},"Ê∑ªÂä†‰π¶Á±ç",-1))]),e("button",{class:"floating-action-item",onClick:We,title:"AI Âä©Êâã"},[w(Gt,{size:20}),t[35]||(t[35]=e("span",{class:"floating-action-label"},"AI Âä©Êâã",-1))])]),e("button",{class:"floating-action-main",onClick:Ke},[w(ge,{size:24,class:"icon-plus"}),w(ie,{size:24,class:"icon-close"})])],2)):z("",!0),e("input",{type:"file",ref_key:"fileInputRef",ref:L,onChange:Xe,style:{display:"none"},accept:".epub,.pdf,.txt"},null,544),w(Qo,{visible:b.value,"onUpdate:visible":t[7]||(t[7]=s=>b.value=s),onNavigateToSettings:Ye},null,8,["visible"]),U.value?(a(),i("div",{key:1,class:"dialog-overlay",onClick:ue},[e("div",{class:"dialog-content",onClick:t[8]||(t[8]=Y(()=>{},["stop"]))},[e("div",Cn,[t[36]||(t[36]=e("h3",{class:"dialog-title"},"ÂàÜÁ±ªÁÆ°ÁêÜ",-1)),e("button",{class:"dialog-close",onClick:ue},[w(ie,{size:20})])]),e("div",Mn,[e("div",xn,[(a(!0),i(ee,null,ae(n.value,s=>(a(),i("div",{key:s.id,class:H(["category-manage-item",{selected:D.value===s.id}]),onClick:f=>D.value=s.id},[e("span",{class:"category-manage-icon",style:G({backgroundColor:s.color+"20",color:s.color})},[(a(),oe(ye(ct(s.name)),{size:18}))],4),e("span",Tn,_(s.name),1)],10,$n))),128))])]),e("div",zn,[e("button",{class:"btn btn-secondary",onClick:ue},"ÂèñÊ∂à"),e("button",{class:"btn btn-primary",onClick:lt,disabled:!D.value}," Á°ÆÂÆö ",8,An)])])])):z("",!0),O.value?(a(),i("div",{key:2,class:"dialog-overlay",onClick:me},[e("div",{class:"dialog-content add-category-dialog",onClick:t[11]||(t[11]=Y(()=>{},["stop"]))},[e("div",Dn,[e("div",Sn,[e("div",En,[w(Rt,{size:24})]),t[37]||(t[37]=e("div",null,[e("h3",{class:"dialog-title"},"Êñ∞Âª∫ÂàÜÁ±ª"),e("p",{class:"dialog-subtitle"},"‰∏∫‰Ω†ÁöÑ‰π¶Á±çÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂàÜÁ±ª")],-1))]),e("button",{class:"dialog-close",onClick:me},[w(ie,{size:20})])]),e("div",Bn,[e("div",qn,[e("label",In,[w(ys,{size:16}),t[38]||(t[38]=e("span",null,"ÂàÜÁ±ªÂêçÁß∞",-1))]),ne(e("input",{ref_key:"categoryNameInput",ref:B,type:"text","onUpdate:modelValue":t[9]||(t[9]=s=>I.value=s),placeholder:"‰æãÂ¶ÇÔºöÂ∞èËØ¥„ÄÅÊäÄÊúØ„ÄÅÂéÜÂè≤...",class:"form-input",maxlength:"20",onKeyup:Te(De,["enter"])},null,544),[[le,I.value]]),e("div",Ln,[I.value.trim()?(a(),i("span",Vn,_(I.value.length)+"/20",1)):(a(),i("span",Pn,"ÊúÄÂ§ö20‰∏™Â≠óÁ¨¶"))])]),e("div",Un,[e("label",Hn,[w(Pe,{size:16}),t[39]||(t[39]=e("span",null,"ÂàÜÁ±ªÈ¢úËâ≤",-1))]),e("div",Rn,[(a(),i(ee,null,ae(p,s=>e("button",{key:s.value,class:H(["color-option",{active:m.value===s.value}]),style:G({backgroundColor:s.value}),title:s.name,onClick:f=>m.value=s.value},[m.value===s.value?(a(),oe(Be,{key:0,size:16,class:"check-icon"})):z("",!0)],14,jn)),64)),e("div",Fn,[ne(e("input",{type:"color","onUpdate:modelValue":t[10]||(t[10]=s=>m.value=s),class:"color-picker-input",title:"Ëá™ÂÆö‰πâÈ¢úËâ≤"},null,512),[[le,m.value]]),t[40]||(t[40]=e("span",{class:"custom-label"},"Ëá™ÂÆö‰πâ",-1))])])]),e("div",Qn,[e("label",Kn,[w(It,{size:16}),t[41]||(t[41]=e("span",null,"È¢ÑËßàÊïàÊûú",-1))]),e("div",Nn,[e("span",{class:"preview-icon",style:G({backgroundColor:m.value})},[w($e,{size:18})],4),e("span",Wn,_(I.value||"ÂàÜÁ±ªÂêçÁß∞"),1),t[42]||(t[42]=e("span",{class:"preview-count"},"0 Êú¨‰π¶",-1))])])]),e("div",On,[e("button",{class:"btn btn-secondary",onClick:me},[w(ie,{size:16}),t[43]||(t[43]=re(" ÂèñÊ∂à ",-1))]),e("button",{class:"btn btn-primary",onClick:De,disabled:!I.value.trim()},[w(Be,{size:16}),t[44]||(t[44]=re(" ÂàõÂª∫ÂàÜÁ±ª ",-1))],8,Yn)])])])):z("",!0),j.value?(a(),i("div",{key:3,class:"dialog-overlay",onClick:k},[e("div",{class:"dialog-content",onClick:t[15]||(t[15]=Y(()=>{},["stop"]))},[e("div",Xn,[t[45]||(t[45]=e("h3",{class:"dialog-title"},"ÁôæÂ∫¶ÁΩëÁõòÊéàÊùÉ",-1)),e("button",{class:"dialog-close",onClick:k},[w(ie,{size:20})])]),e("div",Zn,[e("div",Jn,[t[46]||(t[46]=e("label",{class:"form-label"},"App Key",-1)),ne(e("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=s=>M.value.appKey=s),placeholder:"ËæìÂÖ•ÁôæÂ∫¶ÁΩëÁõò App Key",class:"form-input"},null,512),[[le,M.value.appKey]])]),e("div",Gn,[t[47]||(t[47]=e("label",{class:"form-label"},"Secret Key",-1)),ne(e("input",{type:"password","onUpdate:modelValue":t[13]||(t[13]=s=>M.value.secretKey=s),placeholder:"ËæìÂÖ•ÁôæÂ∫¶ÁΩëÁõò Secret Key",class:"form-input"},null,512),[[le,M.value.secretKey]])]),e("div",el,[t[48]||(t[48]=e("label",{class:"form-label"},"Refresh Token",-1)),ne(e("input",{type:"password","onUpdate:modelValue":t[14]||(t[14]=s=>M.value.refreshToken=s),placeholder:"ËæìÂÖ•ÁôæÂ∫¶ÁΩëÁõò Refresh Token",class:"form-input"},null,512),[[le,M.value.refreshToken]])])]),e("div",{class:"dialog-footer"},[e("button",{class:"btn btn-secondary",onClick:k},"ÂèñÊ∂à"),e("button",{class:"btn btn-primary",onClick:P},"‰øùÂ≠ò")])])])):z("",!0),w(la,{visible:K.value,x:R.value,y:Z.value,items:N.value,onClose:tt},null,8,["visible","x","y","items"])]))}}),ll=be(tl,[["__scopeId","data-v-03155d8e"]]);export{ll as default};
